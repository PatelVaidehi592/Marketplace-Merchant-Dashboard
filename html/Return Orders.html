<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Return Orders - Order Management</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

    <link rel="stylesheet" href="../css/style.css" />
    <link rel="stylesheet" href="../css/return-order.css" />

</head>

<body>
    <div class="container">
        <!-- Header -->
        <header class="main-header">
            <div class="header-left">
                <h1>Return Orders</h1>
                <p>Manage customer returns and refunds</p>
            </div>
            <div class="header-actions">
                <a href="order.html" class="btn btn-light">
                    <i class="fas fa-arrow-left"></i> Back to Orders
                </a>
                <button class="btn btn-primary" id="exportReturns">
                    <i class="fas fa-file-export"></i> Export
                </button>
            </div>
        </header>

        <!-- Stats Cards -->
        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-icon" style="color: var(--primary);">
                    <i class="fas fa-exchange-alt"></i>
                </div>
                <div class="stat-info">
                    <h3 id="totalReturns">0</h3>
                    <p>Total Returns</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon" style="color: var(--warning);">
                    <i class="fas fa-clock"></i>
                </div>
                <div class="stat-info">
                    <h3 id="pendingReturns">0</h3>
                    <p>Pending Approval</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon" style="color: var(--danger);">
                    <i class="fas fa-truck"></i>
                </div>
                <div class="stat-info">
                    <h3 id="pickupReturns">0</h3>
                    <p>Pickup Pending</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon" style="color: var(--success);">
                    <i class="fas fa-check-circle"></i>
                </div>
                <div class="stat-info">
                    <h3 id="completedReturns">0</h3>
                    <p>Completed Returns</p>
                </div>
            </div>
        </div>

        <!-- Filters -->
        <div class="filters-section">
            <h3>Filter Returns</h3>
            <div class="filters-grid">
                <div class="filter-group">
                    <label>Return Status</label>
                    <select class="filter-select" id="statusFilter">
                        <option value="all">All Status</option>
                        <option value="requested">Return Requested</option>
                        <option value="approved">Approved</option>
                        <option value="pickedup">Picked Up</option>
                        <option value="returned">Returned</option>
                        <option value="refunded">Refunded</option>
                        <option value="rejected">Rejected</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>Date Range</label>
                    <select class="filter-select" id="dateFilter">
                        <option value="all">All Time</option>
                        <option value="today">Today</option>
                        <option value="week">This Week</option>
                        <option value="month">This Month</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>Search</label>
                    <input type="text" id="searchReturn" class="search-input"
                        placeholder="Search by Order ID, Product...">
                </div>
                <div class="filter-group">
                    <label>&nbsp;</label>
                    <button class="btn btn-primary" id="applyFilter">
                        <i class="fas fa-filter"></i> Apply Filter
                    </button>
                </div>
            </div>
        </div>

        <!-- Returns Table -->
        <div class="table-container">
            <div class="table-responsive">
                <table class="returns-table" id="returnsTable">
                    <thead>
                        <tr>
                            <th>Return ID</th>
                            <th>Order ID</th>
                            <th>Product</th>
                            <th>Customer</th>
                            <th>Return Date</th>
                            <th>Return Reason</th>
                            <th>Refund Amount</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="returnsTableBody">
                        <!-- Returns will be loaded here -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Return Detail Modal -->
        <div class="modal-overlay" id="returnModal">
            <div class="modal">
                <div class="modal-header">
                    <h3>Return Details - <span id="modalReturnId"></span></h3>
                    <button class="close-modal" id="closeModal">&times;</button>
                </div>
                <div class="modal-body">
                    <!-- Progress Bar -->
                    <div class="return-progress">
                        <div class="progress-steps" id="progressSteps">
                            <!-- Progress steps will be dynamically added -->
                        </div>
                    </div>

                    <!-- Detail Sections -->
                    <div class="detail-grid">
                        <!-- Basic Info -->
                        <div class="detail-section">
                            <h4><i class="fas fa-info-circle"></i> Basic Info</h4>
                            <div class="detail-row">
                                <strong>Return ID:</strong>
                                <span id="detailReturnId"></span>
                            </div>
                            <div class="detail-row">
                                <strong>Order ID:</strong>
                                <span id="detailOrderId"></span>
                            </div>
                            <div class="detail-row">
                                <strong>Product Name:</strong>
                                <span id="detailProduct"></span>
                            </div>
                            <div class="detail-row">
                                <strong>Quantity:</strong>
                                <span id="detailQuantity"></span>
                            </div>
                            <div class="detail-row">
                                <strong>Return Date:</strong>
                                <span id="detailReturnDate"></span>
                            </div>
                        </div>

                        <!-- Return Info -->
                        <div class="detail-section">
                            <h4><i class="fas fa-exchange-alt"></i> Return Info</h4>
                            <div class="detail-row">
                                <strong>Return Reason:</strong>
                                <span id="detailReason"></span>
                            </div>
                            <div class="detail-row">
                                <strong>Return Status:</strong>
                                <span id="detailStatus"></span>
                            </div>
                            <div class="detail-row">
                                <strong>Customer Comments:</strong>
                                <span id="detailComments"></span>
                            </div>
                        </div>

                        <!-- Refund Info -->
                        <div class="detail-section">
                            <h4><i class="fas fa-credit-card"></i> Refund Info</h4>
                            <div class="detail-row">
                                <strong>Refund Method:</strong>
                                <span id="detailRefundMethod"></span>
                            </div>
                            <div class="detail-row">
                                <strong>Refund Amount:</strong>
                                <span id="detailRefundAmount"></span>
                            </div>
                            <div class="detail-row">
                                <strong>Refund Status:</strong>
                                <span id="detailRefundStatus"></span>
                            </div>
                            <div class="detail-row">
                                <strong>Refund Date:</strong>
                                <span id="detailRefundDate"></span>
                            </div>
                        </div>

                        <!-- Pickup Info -->
                        <div class="detail-section">
                            <h4><i class="fas fa-truck"></i> Pickup Info</h4>
                            <div class="detail-row">
                                <strong>Pickup Address:</strong>
                                <span id="detailPickupAddress"></span>
                            </div>
                            <div class="detail-row">
                                <strong>Pickup Date:</strong>
                                <span id="detailPickupDate"></span>
                            </div>
                            <div class="detail-row">
                                <strong>Pickup Status:</strong>
                                <span id="detailPickupStatus"></span>
                            </div>
                            <div class="detail-row">
                                <strong>Courier Service:</strong>
                                <span id="detailCourier"></span>
                            </div>
                        </div>
                    </div>

                    <!-- Timeline -->
                    <div class="timeline">
                        <h4><i class="fas fa-history"></i> Return Timeline</h4>
                        <div id="timelineContent">
                            <!-- Timeline items will be added here -->
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-light" id="closeDetail">Close</button>
                    <button class="btn btn-success" id="processReturn" style="display: none;">
                        <i class="fas fa-check"></i> Process Next Step
                    </button>
                    <button class="btn btn-danger" id="rejectReturn" style="display: none;">
                        <i class="fas fa-times"></i> Reject Return
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="../js/return-order.js"></script>

</body>

</html>