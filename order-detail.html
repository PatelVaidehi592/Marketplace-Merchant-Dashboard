<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Order Details - Order Management</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/order-detail.css" />
</head>


<body>
  <div class="container">
    <main class="main-content">
      <header class="main-header">
        <div class="header-left">
          <a href="order.html" class="back-btn">
            <i class="fas fa-arrow-left"></i> Back to Orders
          </a>
          <div>
            <h1>Order Details</h1>
            <p id="orderHeaderInfo">Loading order information...</p>
          </div>
        </div>
        <div class="header-right">
          <div class="header-actions">
            <button class="btn btn-primary" id="printInvoice">
              <i class="fas fa-print"></i> Print Invoice
            </button>
            <button class="btn btn-success" id="syncOrder">
              <i class="fas fa-sync-alt"></i> Re-sync Order
            </button>
          </div>
        </div>
      </header>

      <div class="content-grid">
        <div class="left-column">
          <section class="info-section">
            <div class="section-header">
              <h3>
                <i class="fas fa-user"></i>
                Customer Details
              </h3>
              <button class="btn btn-light btn-sm edit-section-btn" data-section="customer">
                <i class="fas fa-edit"></i> Edit
              </button>
            </div>
            <div class="section-body">
              <div class="section-display" id="customerDisplay">
                <p>
                  <strong>Name:</strong>
                  <span id="customerName">John Doe</span>
                </p>
                <p>
                  <strong>Email:</strong>
                  <span id="customerEmail">john@example.com</span>
                </p>
                <p>
                  <strong>Phone:</strong>
                  <span id="customerPhone">+91 9876543210</span>
                </p>
                <p>
                  <strong>Customer ID:</strong>
                  <span id="customerId">CUST-1001</span>
                </p>
              </div>

              <div class="section-edit-form" id="customerEditForm" style="display: none;">
                <div class="form-group">
                  <label>Name</label>
                  <input type="text" class="form-input" id="editCustomerName" value="John Doe">
                </div>
                <div class="form-group">
                  <label>Email</label>
                  <input type="email" class="form-input" id="editCustomerEmail" value="john@example.com">
                </div>
                <div class="form-group">
                  <label>Phone</label>
                  <input type="tel" class="form-input" id="editCustomerPhone" value="+91 9876543210">
                </div>
                <div class="form-actions">
                  <button class="btn btn-light cancel-edit-btn" data-section="customer">Cancel</button>
                  <button class="btn btn-primary save-edit-btn" data-section="customer">Save Changes</button>
                </div>
              </div>
            </div>
          </section>

          <section class="info-section">
            <div class="section-header">
              <h3>
                <i class="fas fa-shipping-fast"></i>
                Shipping Details
              </h3>
              <button class="btn btn-light btn-sm edit-section-btn" data-section="shipping">
                <i class="fas fa-edit"></i> Edit
              </button>
            </div>
            <div class="section-body">
              <div class="section-display" id="shippingDisplay">
                <p>
                  <strong>Address:</strong>
                  <span id="shippingAddressText">123 Main Street, Apartment 4B</span>
                </p>
                <p>
                  <strong>City:</strong>
                  <span id="shippingCity">Mumbai</span>
                </p>
                <p>
                  <strong>State:</strong>
                  <span id="shippingState">Maharashtra</span>
                </p>
                <p>
                  <strong>Pincode:</strong>
                  <span id="shippingPincode">400001</span>
                </p>
                <p>
                  <strong>Shipping Status:</strong>
                  <span id="shippingStatus">Processing</span>
                </p>
              </div>

              <div class="section-edit-form" id="shippingEditForm" style="display: none;">
                <div class="form-group">
                  <label>Address</label>
                  <textarea class="form-textarea" id="editShippingAddress"
                    rows="3">123 Main Street, Apartment 4B</textarea>
                </div>
                <div class="form-row">
                  <div class="form-group">
                    <label>City</label>
                    <input type="text" class="form-input" id="editShippingCity" value="Mumbai">
                  </div>
                  <div class="form-group">
                    <label>State</label>
                    <input type="text" class="form-input" id="editShippingState" value="Maharashtra">
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group">
                    <label>Pincode</label>
                    <input type="text" class="form-input" id="editShippingPincode" value="400001">
                  </div>
                  <div class="form-group">
                    <label>Shipping Status</label>
                    <select class="form-select" id="editShippingStatus">
                      <option value="pending">Pending</option>
                      <option value="processing" selected>Processing</option>
                      <option value="shipped">Shipped</option>
                      <option value="delivered">Delivered</option>
                      <option value="cancelled">Cancelled</option>
                    </select>
                  </div>
                </div>
                <div class="form-actions">
                  <button class="btn btn-light cancel-edit-btn" data-section="shipping">Cancel</button>
                  <button class="btn btn-primary save-edit-btn" data-section="shipping">Save Changes</button>
                </div>
              </div>
            </div>
          </section>

          <section class="info-section">
            <div class="section-header">
              <h3>
                <i class="fas fa-file-invoice-dollar"></i>
                Billing Details
              </h3>
              <button class="btn btn-light btn-sm edit-section-btn" data-section="billing">
                <i class="fas fa-edit"></i> Edit
              </button>
            </div>
            <div class="section-body">
              <div class="section-display" id="billingDisplay">
                <p>
                  <strong>Billing Address:</strong>
                  <span id="billingAddress">123 Main Street, Apartment 4B</span>
                </p>
                <p>
                  <strong>GST Number:</strong>
                  <span id="gstNumber">24AABCU9603R1ZM</span>
                </p>
                <p>
                  <strong>Invoice Number:</strong>
                  <span id="invoiceNumber">INV-2023-1001</span>
                </p>
              </div>

              <div class="section-edit-form" id="billingEditForm" style="display: none;">
                <div class="form-group">
                  <label>Billing Address</label>
                  <textarea class="form-textarea" id="editBillingAddress"
                    rows="3">123 Main Street, Apartment 4B</textarea>
                </div>
                <div class="form-group">
                  <label>GST Number</label>
                  <input type="text" class="form-input" id="editGstNumber" value="24AABCU9603R1ZM">
                </div>
                <div class="form-group">
                  <label>Invoice Number</label>
                  <input type="text" class="form-input" id="editInvoiceNumber" value="INV-2023-1001">
                </div>
                <div class="form-checkbox">
                  <input type="checkbox" id="sameAsShipping" checked>
                  <label for="sameAsShipping">Same as shipping address</label>
                </div>
                <div class="form-actions">
                  <button class="btn btn-light cancel-edit-btn" data-section="billing">Cancel</button>
                  <button class="btn btn-primary save-edit-btn" data-section="billing">Save Changes</button>
                </div>
              </div>
            </div>
          </section>
        </div>

        <div class="right-column">
          <section class="info-section">
            <div class="section-header">
              <h3>
                <i class="fas fa-boxes"></i>
                Order Items by Vendor
              </h3>
              <button class="btn btn-light btn-sm edit-section-btn" data-section="vendor">
                <i class="fas fa-edit"></i> Edit
              </button>
            </div>
            <div class="section-body">
              <div class="section-display" id="vendorDisplay">
                <div class="vendor-card">
                  <div class="vendor-header">
                    <div class="vendor-info">
                      <h4 class="vendor-name">moonlightworkshop</h4>
                      <span class="vendor-badge">Vendor</span>
                    </div>
                    <div class="vendor-status">
                      <span class="status-badge status-pickup">Pick-Up</span>
                      <span class="status-badge status-payout">Payouts</span>
                    </div>
                  </div>

                  <div class="vendor-details">
                    <div class="warehouse-info">
                      <i class="fas fa-warehouse"></i>
                      <span>No Warehouse</span>
                    </div>

                    <div class="vendor-earning">
                      <i class="fas fa-money-bill-wave"></i>
                      <span>vonoor earning: <strong>10% MCNO</strong></span>
                    </div>

                    <div class="payout-status">
                      <i class="fas fa-wallet"></i>
                      <span>Payout Status: <strong class="status-unpaid">UNPAID</strong></span>
                    </div>
                  </div>

                  <div class="vendor-actions">
                    <button class="btn btn-outline btn-sm">
                      <i class="fas fa-envelope"></i> Contact Vendor
                    </button>
                    <button class="btn btn-outline btn-sm">
                      <i class="fas fa-file-invoice"></i> View Invoice
                    </button>
                    <button class="btn btn-primary btn-sm">
                      <i class="fas fa-credit-card"></i> Process Payout
                    </button>
                  </div>
                </div>
              </div>

              <div class="section-edit-form" id="vendorEditForm" style="display: none;">
                <div class="edit-vendor-container">
                  <div class="edit-section">
                    <h4>Vendor Information</h4>
                    <div class="form-row">
                      <div class="form-group">
                        <label>Vendor Name</label>
                        <input type="text" class="form-input" id="editVendorName" value="moonlightworkshop">
                      </div>
                      <div class="form-group">
                        <label>Vendor Type</label>
                        <select class="form-select" id="editVendorType">
                          <option value="vendor" selected>Vendor</option>
                          <option value="supplier">Supplier</option>
                          <option value="partner">Partner</option>
                        </select>
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="form-group">
                        <label>Warehouse Status</label>
                        <select class="form-select" id="editWarehouseStatus">
                          <option value="no-warehouse" selected>No Warehouse</option>
                          <option value="has-warehouse">Has Warehouse</option>
                          <option value="dropship">Dropship</option>
                        </select>
                      </div>
                      <div class="form-group">
                        <label>Commission/Earning</label>
                        <input type="text" class="form-input" id="editVendorEarning" value="10% MCNO">
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="form-group">
                        <label>Payout Status</label>
                        <select class="form-select" id="editPayoutStatus">
                          <option value="unpaid" selected>UNPAID</option>
                          <option value="paid">PAID</option>
                          <option value="processing">PROCESSING</option>
                          <option value="failed">FAILED</option>
                        </select>
                      </div>
                      <div class="form-group">
                        <label>Vendor Status</label>
                        <div class="status-options">
                          <label class="status-option">
                            <input type="checkbox" id="editPickupStatus" checked> Pick-Up
                          </label>
                          <label class="status-option">
                            <input type="checkbox" id="editPayoutsStatus" checked> Payouts
                          </label>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="form-actions">
                    <button class="btn btn-light cancel-edit-btn" data-section="vendor">Cancel</button>
                    <button class="btn btn-primary save-edit-btn" data-section="vendor">Save Changes</button>
                  </div>
                </div>
              </div>
            </div>
          </section>

          <section class="info-section">
            <div class="section-header">
              <h3>
                <i class="fas fa-credit-card"></i>
                Payment Details
              </h3>
              <button class="btn btn-light btn-sm edit-section-btn" data-section="payment">
                <i class="fas fa-edit"></i> Edit
              </button>
            </div>
            <div class="section-body">
              <div class="section-display" id="paymentDisplay">
                <div class="detail-row">
                  <span>Transaction ID:</span>
                  <span id="transactionId">TXN-789012</span>
                </div>
                <div class="detail-row">
                  <span>Payment Status:</span>
                  <span id="paymentStatus">Paid</span>
                </div>
                <div class="detail-row">
                  <span>Payment Date:</span>
                  <span id="paymentDate">Nov 12, 2023 14:30</span>
                </div>
                <div class="detail-row">
                  <span>Payment Gateway:</span>
                  <span id="paymentGateway">Razorpay</span>
                </div>
                <div class="detail-row total-row">
                  <span>Amount Paid:</span>
                  <span id="amountPaid">₹1,250.00</span>
                </div>
              </div>

              <div class="section-edit-form" id="paymentEditForm" style="display: none;">
                <div class="form-group">
                  <label>Transaction ID</label>
                  <input type="text" class="form-input" id="editTransactionId" value="TXN-789012">
                </div>
                <div class="form-group">
                  <label>Payment Status</label>
                  <select class="form-select" id="editPaymentStatus">
                    <option value="pending">Pending</option>
                    <option value="paid" selected>Paid</option>
                    <option value="failed">Failed</option>
                    <option value="refunded">Refunded</option>
                  </select>
                </div>
                <div class="form-group">
                  <label>Payment Gateway</label>
                  <select class="form-select" id="editPaymentGateway">
                    <option value="Razorpay">Razorpay</option>
                    <option value="Stripe">Stripe</option>
                    <option value="PayPal">PayPal</option>
                    <option value="Cash on Delivery">Cash on Delivery</option>
                  </select>
                </div>
                <div class="form-group">
                  <label>Amount Paid</label>
                  <input type="text" class="form-input" id="editAmountPaid" value="1250.00">
                </div>
                <div class="form-actions">
                  <button class="btn btn-light cancel-edit-btn" data-section="payment">Cancel</button>
                  <button class="btn btn-primary save-edit-btn" data-section="payment">Save Changes</button>
                </div>
              </div>
            </div>
          </section>

          <section class="info-section">
            <div class="section-header">
              <h3>
                <i class="fas fa-map-marker-alt"></i>
                Tracking Information
              </h3>
              <button class="btn btn-light btn-sm edit-section-btn" data-section="tracking">
                <i class="fas fa-edit"></i> Edit
              </button>
            </div>
            <div class="section-body">
              <div class="section-display" id="trackingDisplay">
                <div class="tracking-number-display">
                  <p>
                    <strong>Tracking Number:</strong>
                    <span id="trackingNumberText">ABC123456789</span>
                    <button class="btn-icon copy-tracking-btn" title="Copy Tracking Number">
                      <i class="fas fa-copy"></i>
                    </button>
                  </p>
                  <p>
                    <strong>Courier Service:</strong>
                    <span id="courierService">BlueDart</span>
                  </p>
                  <p>
                    <strong>Last Updated:</strong>
                    <span id="trackingLastUpdated">Nov 13, 2023 14:30 PM</span>
                  </p>
                </div>
              </div>

              <div class="section-edit-form" id="trackingEditForm" style="display: none;">
                <div class="form-group">
                  <label>Tracking Number</label>
                  <input type="text" class="form-input" id="editTrackingNumber" value="ABC123456789">
                </div>
                <div class="form-group">
                  <label>Courier Service</label>
                  <select class="form-select" id="editCourierService">
                    <option value="BlueDart">BlueDart</option>
                    <option value="DTDC">DTDC</option>
                    <option value="Delhivery">Delhivery</option>
                    <option value="FedEx">FedEx</option>
                  </select>
                </div>
                <div class="form-group">
                  <label>Tracking Status</label>
                  <select class="form-select" id="editTrackingStatus">
                    <option value="pending">Pending</option>
                    <option value="processing">Processing</option>
                    <option value="shipped">Shipped</option>
                    <option value="delivered">Delivered</option>
                  </select>
                </div>
                <div class="form-actions">
                  <button class="btn btn-light cancel-edit-btn" data-section="tracking">Cancel</button>
                  <button class="btn btn-primary save-edit-btn" data-section="tracking">Save Changes</button>
                </div>
              </div>
            </div>
          </section>
        </div>
      </div>
    </main>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      function showNotification(message, type = 'info') {
        const notification = document.createElement('div');
        notification.className = `notification ${type}`;
        notification.innerHTML = `
          <i class="fas fa-${type === 'success' ? 'check-circle' :
            type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
          <span>${message}</span>
        `;

        document.body.appendChild(notification);

        setTimeout(() => {
          notification.classList.add('show');
        }, 10);

        setTimeout(() => {
          notification.classList.remove('show');
          setTimeout(() => {
            if (notification.parentNode) {
              notification.parentNode.removeChild(notification);
            }
          }, 3);
        }, 1000);
      }

      document.querySelectorAll('.edit-section-btn').forEach(button => {
        button.addEventListener('click', function () {
          const section = this.getAttribute('data-section');
          const displayElement = document.getElementById(`${section}Display`);
          const editElement = document.getElementById(`${section}EditForm`);

          if (displayElement && editElement) {
            displayElement.style.display = 'none';
            editElement.style.display = 'block';
          }
        });
      });

      document.querySelectorAll('.cancel-edit-btn').forEach(button => {
        button.addEventListener('click', function () {
          const section = this.getAttribute('data-section');
          const displayElement = document.getElementById(`${section}Display`);
          const editElement = document.getElementById(`${section}EditForm`);

          if (displayElement && editElement) {
            displayElement.style.display = 'block';
            editElement.style.display = 'none';
          }
        });
      });

      document.querySelectorAll('.save-edit-btn').forEach(button => {
        button.addEventListener('click', function () {
          const section = this.getAttribute('data-section');
          saveSectionChanges(section);
        });
      });

      document.addEventListener('click', function (e) {
        if (e.target.closest('.copy-tracking-btn')) {
          const trackingNumber = document.getElementById('trackingNumberText').textContent;
          navigator.clipboard.writeText(trackingNumber).then(() => {
            showNotification('Tracking number copied!', 'success');
          });
        }
      });

      const sameAsShippingCheckbox = document.getElementById('sameAsShipping');
      if (sameAsShippingCheckbox) {
        sameAsShippingCheckbox.addEventListener('change', function () {
          const billingAddressField = document.getElementById('editBillingAddress');
          if (this.checked) {
            const shippingAddress = document.getElementById('editShippingAddress').value;
            billingAddressField.value = shippingAddress;
          }
        });
      }

      function saveSectionChanges(section) {
        const displayElement = document.getElementById(`${section}Display`);
        const editElement = document.getElementById(`${section}EditForm`);

        switch (section) {
          case 'customer':
            const customerName = document.getElementById('editCustomerName').value;
            const customerEmail = document.getElementById('editCustomerEmail').value;
            const customerPhone = document.getElementById('editCustomerPhone').value;

            document.getElementById('customerName').textContent = customerName;
            document.getElementById('customerEmail').textContent = customerEmail;
            document.getElementById('customerPhone').textContent = customerPhone;
            break;

          case 'shipping':
            const shippingAddress = document.getElementById('editShippingAddress').value;
            const shippingCity = document.getElementById('editShippingCity').value;
            const shippingState = document.getElementById('editShippingState').value;
            const shippingPincode = document.getElementById('editShippingPincode').value;
            const shippingStatus = document.getElementById('editShippingStatus').value;

            document.getElementById('shippingAddressText').textContent = shippingAddress;
            document.getElementById('shippingCity').textContent = shippingCity;
            document.getElementById('shippingState').textContent = shippingState;
            document.getElementById('shippingPincode').textContent = shippingPincode;
            document.getElementById('shippingStatus').textContent = shippingStatus;
            break;

          case 'billing':
            const billingAddress = document.getElementById('editBillingAddress').value;
            const gstNumber = document.getElementById('editGstNumber').value;
            const invoiceNumber = document.getElementById('editInvoiceNumber').value;

            document.getElementById('billingAddress').textContent = billingAddress;
            document.getElementById('gstNumber').textContent = gstNumber;
            document.getElementById('invoiceNumber').textContent = invoiceNumber;
            break;

          case 'vendor':
            const vendorName = document.getElementById('editVendorName').value;
            const vendorType = document.getElementById('editVendorType').value;
            const warehouseStatus = document.getElementById('editWarehouseStatus').value;
            const vendorEarning = document.getElementById('editVendorEarning').value;
            const payoutStatus = document.getElementById('editPayoutStatus').value;
            const pickupStatus = document.getElementById('editPickupStatus').checked;
            const payoutsStatus = document.getElementById('editPayoutsStatus').checked;

            document.querySelector('.vendor-name').textContent = vendorName;
            document.querySelector('.vendor-badge').textContent = vendorType.charAt(0).toUpperCase() + vendorType.slice(1);

            const warehouseText = warehouseStatus === 'no-warehouse' ? 'No Warehouse' :
              warehouseStatus === 'has-warehouse' ? 'Has Warehouse' : 'Dropship';
            document.querySelector('.warehouse-info span').textContent = warehouseText;

            document.querySelector('.vendor-earning span').innerHTML = `vonoor earning: <strong>${vendorEarning}</strong>`;

            const payoutStatusElement = document.querySelector('.payout-status strong');
            payoutStatusElement.textContent = payoutStatus;
            payoutStatusElement.className = `status-${payoutStatus.toLowerCase()}`;

            const pickupBadge = document.querySelector('.status-pickup');
            const payoutsBadge = document.querySelector('.status-payout');

            pickupBadge.style.display = pickupStatus ? 'inline-block' : 'none';
            payoutsBadge.style.display = payoutsStatus ? 'inline-block' : 'none';
            break;

          case 'payment':
            const transactionId = document.getElementById('editTransactionId').value;
            const paymentStatus = document.getElementById('editPaymentStatus').value;
            const paymentGateway = document.getElementById('editPaymentGateway').value;
            const amountPaid = document.getElementById('editAmountPaid').value;

            document.getElementById('transactionId').textContent = transactionId;
            document.getElementById('paymentStatus').textContent = paymentStatus;
            document.getElementById('paymentGateway').textContent = paymentGateway;
            document.getElementById('amountPaid').textContent = `₹${amountPaid}`;
            break;

          case 'tracking':
            const trackingNumber = document.getElementById('editTrackingNumber').value;
            const courierService = document.getElementById('editCourierService').value;
            const trackingStatus = document.getElementById('editTrackingStatus').value;

            document.getElementById('trackingNumberText').textContent = trackingNumber;
            document.getElementById('courierService').textContent = courierService;

            const now = new Date();
            const formattedDate = now.toLocaleDateString('en-US', {
              month: 'short',
              day: 'numeric',
              year: 'numeric'
            }) + ' ' + now.toLocaleTimeString('en-US', {
              hour: '2-digit',
              minute: '2-digit'
            });
            document.getElementById('trackingLastUpdated').textContent = formattedDate;
            break;
        }

        showNotification(`${section.charAt(0).toUpperCase() + section.slice(1)} information updated successfully!`, 'success');

        if (displayElement && editElement) {
          displayElement.style.display = 'block';
          editElement.style.display = 'none';
        }
      }
    });
  </script>
</body>

</html>