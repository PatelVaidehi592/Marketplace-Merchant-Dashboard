<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Order Details - Order Management</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/order-detail.css" />
  </head>
  <body>
    <div class="container">
      <!-- Sidebar (Same as order list page) -->

      <!-- Main Content -->
      <main class="main-content">
        <!-- Header with Back Button -->
        <header class="main-header">
          <div class="header-left">
            <a href="index.html" class="back-btn">
              <i class="fas fa-arrow-left"></i> Back to Orders
            </a>
            <div>
              <h1>Order Details</h1>
              <p id="orderHeaderInfo">Loading order information...</p>
            </div>
          </div>
          <div class="header-right">
            <div class="header-actions">
              <button class="btn btn-primary" id="printInvoice">
                <i class="fas fa-print"></i> Print Invoice
              </button>
              <button class="btn btn-success" id="syncOrder">
                <i class="fas fa-sync-alt"></i> Re-sync Order
              </button>
            </div>
          </div>
        </header>

        <!-- Order Overview -->
        <div class="order-overview">
          <div class="overview-card">
            <div class="order-id-section">
              <h2 id="orderIdDisplay">Loading...</h2>
              <div class="order-status-badge">
                <span class="status-badge" id="orderStatusBadge">Pending</span>
                <span class="payment-status" id="paymentStatusBadge">Paid</span>
              </div>
            </div>

            <div class="order-meta">
              <div class="meta-item">
                <i class="fas fa-calendar"></i>
                <div>
                  <label>Order Date</label>
                  <span id="orderDate">Nov 12, 2023</span>
                </div>
              </div>
              <div class="meta-item">
                <i class="fas fa-truck"></i>
                <div>
                  <label>Shipping Method</label>
                  <span id="shippingMethod">Standard Shipping</span>
                </div>
              </div>
              <div class="meta-item">
                <i class="fas fa-credit-card"></i>
                <div>
                  <label>Payment Method</label>
                  <span id="paymentMethod">Credit Card</span>
                </div>
              </div>
              <div class="meta-item">
                <i class="fas fa-indian-rupee-sign"></i>
                <div>
                  <label>Total Amount</label>
                  <span id="orderTotal" class="total-amount">₹1,250.00</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Main Content Grid -->
        <div class="content-grid">
          <!-- Left Column -->
          <div class="left-column">
            <!-- Customer Details -->
            <section class="info-section">
              <div class="section-header">
                <h3>
                  <i class="fas fa-user"></i>
                  Customer Details
                </h3>
                <button class="btn btn-light btn-sm" id="editCustomer">
                  <i class="fas fa-edit"></i> Edit
                </button>
              </div>
              <div class="section-body">
                <div id="customerDetails">
                  <p>
                    <strong>Name:</strong>
                    <span id="customerName">Loading...</span>
                  </p>
                  <p>
                    <strong>Email:</strong>
                    <span id="customerEmail">Loading...</span>
                  </p>
                  <p>
                    <strong>Phone:</strong>
                    <span id="customerPhone">Loading...</span>
                  </p>
                  <p>
                    <strong>Customer ID:</strong>
                    <span id="customerId">Loading...</span>
                  </p>
                </div>
              </div>
            </section>

            <!-- Shipping Details -->
            <section class="info-section">
              <div class="section-header">
                <h3>
                  <i class="fas fa-shipping-fast"></i>
                  Shipping Details
                </h3>
                <button class="btn btn-light btn-sm" id="editShipping">
                  <i class="fas fa-edit"></i> Edit
                </button>
              </div>
              <div class="section-body">
                <div id="shippingAddress">
                  <p>
                    <strong>Address:</strong>
                    <span id="shippingAddressText">Loading...</span>
                  </p>
                  <p>
                    <strong>City:</strong>
                    <span id="shippingCity">Loading...</span>
                  </p>
                  <p>
                    <strong>State:</strong>
                    <span id="shippingState">Loading...</span>
                  </p>
                  <p>
                    <strong>Pincode:</strong>
                    <span id="shippingPincode">Loading...</span>
                  </p>
                  <p>
                    <strong>Shipping Status:</strong>
                    <span id="shippingStatus">Loading...</span>
                  </p>
                </div>
              </div>
            </section>

            <!-- Billing Details -->
            <section class="info-section">
              <div class="section-header">
                <h3>
                  <i class="fas fa-file-invoice-dollar"></i>
                  Billing Details
                </h3>
              </div>
              <div class="section-body">
                <div id="billingDetails">
                  <p>
                    <strong>Billing Address:</strong>
                    <span id="billingAddress">Same as shipping</span>
                  </p>
                  <p>
                    <strong>GST Number:</strong>
                    <span id="gstNumber">24AABCU9603R1ZM</span>
                  </p>
                  <p>
                    <strong>Invoice Number:</strong>
                    <span id="invoiceNumber">INV-2023-1001</span>
                  </p>
                </div>
              </div>
            </section>
          </div>

          <!-- Right Column -->
          <div class="right-column">
            <!-- Order Items by Vendor -->
            <section class="info-section">
              <div class="section-header">
                <h3>
                  <i class="fas fa-boxes"></i>
                  Order Items by Vendor
                </h3>
              </div>
              <div class="section-body">
                <div id="vendorItemsContainer">
                  <!-- Vendor items will be loaded here -->
                </div>
              </div>
            </section>

            <!-- Payment Details -->
            <section class="info-section">
              <div class="section-header">
                <h3>
                  <i class="fas fa-credit-card"></i>
                  Payment Details
                </h3>
              </div>
              <div class="section-body">
                <div class="payment-details">
                  <div class="detail-row">
                    <span>Transaction ID:</span>
                    <span id="transactionId">TXN-789012</span>
                  </div>
                  <div class="detail-row">
                    <span>Payment Status:</span>
                    <span id="paymentStatus">Paid</span>
                  </div>
                  <div class="detail-row">
                    <span>Payment Date:</span>
                    <span id="paymentDate">Nov 12, 2023 14:30</span>
                  </div>
                  <div class="detail-row">
                    <span>Payment Gateway:</span>
                    <span id="paymentGateway">Razorpay</span>
                  </div>
                  <div class="detail-row total-row">
                    <span>Amount Paid:</span>
                    <span id="amountPaid">₹1,250.00</span>
                  </div>
                </div>
              </div>
            </section>

            <!-- Tracking Information -->
            <section class="info-section">
              <div class="section-header">
                <h3>
                  <i class="fas fa-map-marker-alt"></i>
                  Tracking Information
                </h3>
                <button class="btn btn-light btn-sm" id="updateTracking">
                  <i class="fas fa-edit"></i> Update
                </button>
              </div>
              <div class="section-body">
                <div id="trackingInfo">
                  <div class="tracking-timeline">
                    <div class="tracking-step active">
                      <div class="step-icon">
                        <i class="fas fa-shopping-cart"></i>
                      </div>
                      <div class="step-content">
                        <h4>Order Placed</h4>
                        <p>Nov 12, 2023 10:30 AM</p>
                      </div>
                    </div>
                    <div class="tracking-step active">
                      <div class="step-icon">
                        <i class="fas fa-check-circle"></i>
                      </div>
                      <div class="step-content">
                        <h4>Payment Confirmed</h4>
                        <p>Nov 12, 2023 10:35 AM</p>
                      </div>
                    </div>
                    <div class="tracking-step">
                      <div class="step-icon">
                        <i class="fas fa-box"></i>
                      </div>
                      <div class="step-content">
                        <h4>Processing</h4>
                        <p>Estimated: Nov 13, 2023</p>
                      </div>
                    </div>
                    <div class="tracking-step">
                      <div class="step-icon">
                        <i class="fas fa-shipping-fast"></i>
                      </div>
                      <div class="step-content">
                        <h4>Shipped</h4>
                        <p>Not yet shipped</p>
                      </div>
                    </div>
                    <div class="tracking-step">
                      <div class="step-icon">
                        <i class="fas fa-home"></i>
                      </div>
                      <div class="step-content">
                        <h4>Delivered</h4>
                        <p>Estimated: Nov 16, 2023</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </section>
          </div>
        </div>

        <!-- Order Actions -->
        <div class="order-actions">
          <div class="actions-section">
            <h3>Order Actions</h3>
            <div class="action-buttons">
              <button class="btn btn-primary" id="updateStatusBtn">
                <i class="fas fa-sync-alt"></i> Update Status
              </button>
              <button class="btn btn-warning" id="cancelOrderBtn">
                <i class="fas fa-times-circle"></i> Cancel Order
              </button>
              <button class="btn btn-danger" id="refundOrderBtn">
                <i class="fas fa-undo"></i> Refund Order
              </button>
              <button class="btn btn-light" id="sendEmailBtn">
                <i class="fas fa-envelope"></i> Send Email
              </button>
            </div>
          </div>

          <!-- Sync History -->
          <div class="sync-history">
            <div class="section-header">
              <h3>Sync History</h3>
              <button class="btn btn-light btn-sm" id="viewFullHistory">
                View Full History
              </button>
            </div>
            <div class="history-list">
              <div class="history-item">
                <div class="history-icon success">
                  <i class="fas fa-check"></i>
                </div>
                <div class="history-content">
                  <h4>Order synced with marketplace</h4>
                  <p>Nov 12, 2023 10:30 AM - Successfully synced with Amazon</p>
                </div>
              </div>
              <div class="history-item">
                <div class="history-icon warning">
                  <i class="fas fa-exclamation-triangle"></i>
                </div>
                <div class="history-content">
                  <h4>Inventory update failed</h4>
                  <p>Nov 12, 2023 10:25 AM - Product out of stock</p>
                </div>
              </div>
              <div class="history-item">
                <div class="history-icon info">
                  <i class="fas fa-info-circle"></i>
                </div>
                <div class="history-content">
                  <h4>Order created</h4>
                  <p>Nov 12, 2023 10:20 AM - Customer placed order</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
      <div class="spinner"></div>
      <p>Loading order details...</p>
    </div>

    <!-- Status Update Modal -->
    <div class="modal" id="statusModal">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Update Order Status</h3>
          <button class="close-modal">&times;</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label>Select New Status</label>
            <select class="form-select" id="newStatusSelect">
              <option value="pending">Pending</option>
              <option value="processing">Processing</option>
              <option value="shipped">Shipped</option>
              <option value="delivered">Delivered</option>
              <option value="cancelled">Cancelled</option>
              <option value="refunded">Refunded</option>
            </select>
          </div>
          <div class="form-group">
            <label>Notes (Optional)</label>
            <textarea
              class="form-textarea"
              id="statusNotes"
              placeholder="Add notes about this status change..."
            ></textarea>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-light" id="cancelStatusUpdate">Cancel</button>
          <button class="btn btn-primary" id="confirmStatusUpdate">
            Update Status
          </button>
        </div>
      </div>
    </div>

    <script src="js/main.js"></script>
    <script src="js/order-detail.js"></script>
  </body>
</html>
<!DOCTYPE html>
