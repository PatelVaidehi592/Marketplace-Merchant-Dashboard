<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Order Management - Order List</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <style>
    /* CSS Variables */
    :root {
      --primary: #4361ee;
      --secondary: #3a0ca3;
      --success: #4cc9f0;
      --danger: #f72585;
      --warning: #ffc107;
      --light: #f8f9fa;
      --dark: #212529;
      --gray: #6c757d;
      --gray-light: #e9ecef;
      --border-radius: 8px;
      --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      --transition: all 0.3s ease;
    }

    /* Reset and Base Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      background-color: #f5f7fb;
      color: var(--dark);
      line-height: 1.6;
    }

    .container {
      display: flex;
      min-height: 100vh;
    }

    /* Sidebar */
    .sidebar {
      width: 250px;
      background-color: white;
      box-shadow: var(--box-shadow);
      padding: 20px 0;
      position: fixed;
      height: 100vh;
      overflow-y: auto;
      z-index: 100;
    }

    .logo {
      padding: 0 20px 20px;
      border-bottom: 1px solid var(--gray-light);
      margin-bottom: 20px;
    }

    .logo h2 {
      color: var(--primary);
      font-size: 24px;
    }

    .logo p {
      color: var(--gray);
      font-size: 14px;
    }

    .nav-menu {
      list-style: none;
      padding: 0 15px;
    }

    .nav-item {
      margin-bottom: 5px;
    }

    .nav-link {
      display: flex;
      align-items: center;
      padding: 12px 15px;
      color: var(--dark);
      text-decoration: none;
      border-radius: var(--border-radius);
      transition: var(--transition);
    }

    .nav-link:hover,
    .nav-link.active {
      background-color: rgba(67, 97, 238, 0.1);
      color: var(--primary);
    }

    .nav-link i {
      margin-right: 10px;
      width: 20px;
      text-align: center;
    }

    /* Main Content */
    .main-content {
      flex: 1;
      padding: 20px;
      width: calc(100% - 250px);
    }

    /* Header */
    .main-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
      background-color: white;
      padding: 20px;
      border-radius: var(--border-radius);
      box-shadow: var(--box-shadow);
    }

    .header-left h1 {
      color: var(--primary);
      margin-bottom: 5px;
    }

    .header-left p {
      color: var(--gray);
    }

    .header-actions {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    /* Buttons */
    .btn {
      padding: 10px 20px;
      border: none;
      border-radius: var(--border-radius);
      cursor: pointer;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      transition: var(--transition);
    }

    .btn-primary {
      background-color: var(--primary);
      color: white;
    }

    .btn-primary:hover {
      background-color: var(--secondary);
    }

    .btn-success {
      background-color: var(--success);
      color: white;
    }

    .btn-success:hover {
      background-color: #2da0c0;
    }

    .btn-light {
      background-color: var(--gray-light);
      color: var(--dark);
    }

    .btn-light:hover {
      background-color: #d1d5db;
    }

    .btn-danger {
      background-color: var(--danger);
      color: white;
    }

    .btn-danger:hover {
      background-color: #d11467;
    }

    /* New button style for Push to Vendor */
    .btn-push {
      background-color: #28a745;
      color: white;
    }

    .btn-push:hover {
      background-color: #218838;
    }

    .btn-pushed {
      background-color: #6c757d;
      color: white;
      cursor: not-allowed;
    }

    .btn-pushed:hover {
      background-color: #5a6268;
    }

    .notifications {
      position: relative;
      cursor: pointer;
      font-size: 20px;
      color: var(--gray);
    }

    .notification-count {
      position: absolute;
      top: -8px;
      right: -8px;
      background-color: var(--danger);
      color: white;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      font-size: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* Stats Cards */
    .stats-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .stat-card {
      background-color: white;
      border-radius: var(--border-radius);
      padding: 20px;
      box-shadow: var(--box-shadow);
      cursor: pointer;
      transition: var(--transition);
      border-left: 4px solid var(--primary);
    }

    .stat-card:hover {
      transform: translateY(-5px);
    }

    .stat-card:nth-child(2) {
      border-left-color: var(--warning);
    }

    .stat-card:nth-child(3) {
      border-left-color: #007bff;
    }

    .stat-card:nth-child(4) {
      border-left-color: var(--success);
    }

    .stat-icon {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      margin-bottom: 15px;
    }

    .stat-info h3 {
      font-size: 28px;
      margin-bottom: 5px;
    }

    .stat-info p {
      color: var(--gray);
      margin-bottom: 10px;
    }

    .stat-trend {
      font-size: 14px;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .trend-up {
      color: #28a745;
    }

    .trend-down {
      color: var(--danger);
    }

    /* Filters Section */
    .filters-section {
      background-color: white;
      border-radius: var(--border-radius);
      padding: 20px;
      box-shadow: var(--box-shadow);
      margin-bottom: 30px;
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .filters-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
    }

    .filter-group {
      display: flex;
      flex-direction: column;
    }

    .filter-group label {
      font-weight: 600;
      margin-bottom: 8px;
      color: var(--dark);
    }

    .filter-select,
    .search-input {
      padding: 10px 15px;
      border: 1px solid var(--gray-light);
      border-radius: var(--border-radius);
      font-size: 14px;
    }

    .search-input-wrapper {
      position: relative;
    }

    .search-input-wrapper i {
      position: absolute;
      left: 15px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--gray);
    }

    .search-input {
      padding-left: 40px;
      width: 100%;
    }

    /* Table */
    .table-container {
      background-color: white;
      border-radius: var(--border-radius);
      padding: 20px;
      box-shadow: var(--box-shadow);
    }

    .table-responsive {
      overflow-x: auto;
    }

    .orders-table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
    }

    .orders-table thead {
      background-color: var(--primary);
      color: white;
    }

    .orders-table th {
      padding: 15px;
      text-align: left;
      font-weight: 600;
    }

    .orders-table tbody tr {
      border-bottom: 1px solid var(--gray-light);
      transition: var(--transition);
    }

    .orders-table tbody tr:hover {
      background-color: rgba(67, 97, 238, 0.05);
    }

    .orders-table td {
      padding: 15px;
    }

    .status-badge {
      padding: 5px 10px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
      display: inline-block;
    }

    .status-pending {
      background-color: rgba(255, 193, 7, 0.2);
      color: #856404;
    }

    .status-processing {
      background-color: rgba(0, 123, 255, 0.2);
      color: #004085;
    }

    .status-shipped {
      background-color: rgba(23, 162, 184, 0.2);
      color: #0c5460;
    }

    .status-delivered {
      background-color: rgba(40, 167, 69, 0.2);
      color: #155724;
    }

    .status-cancelled {
      background-color: rgba(220, 53, 69, 0.2);
      color: #721c24;
    }

    .status-refunded {
      background-color: rgba(108, 117, 125, 0.2);
      color: #383d41;
    }

    .status-pushed {
      background-color: rgba(40, 167, 69, 0.2);
      color: #155724;
      border: 1px solid #28a745;
    }

    .action-buttons {
      display: flex;
      gap: 5px;
      flex-wrap: wrap;
    }

    .action-btn {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      border: none;
      background-color: transparent;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: var(--transition);
    }

    .action-btn.view {
      color: var(--primary);
    }

    .action-btn.edit {
      color: var(--success);
    }

    .action-btn.delete {
      color: var(--danger);
    }

    .action-btn:hover {
      background-color: rgba(0, 0, 0, 0.05);
    }

    /* Push to Vendor button in table */
    .push-btn {
      padding: 6px 12px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 12px;
      font-weight: 600;
      transition: var(--transition);
      min-width: 100px;
    }

    /* Checkbox for bulk selection */
    .bulk-checkbox {
      width: 18px;
      height: 18px;
      cursor: pointer;
    }

    /* Bulk Actions Bar */
    .bulk-actions-bar {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background-color: white;
      border-radius: var(--border-radius);
      padding: 15px 25px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      display: flex;
      align-items: center;
      gap: 20px;
      z-index: 1000;
      transition: var(--transition);
      opacity: 0;
      visibility: hidden;
    }

    .bulk-actions-bar.show {
      opacity: 1;
      visibility: visible;
    }

    .bulk-selection-info {
      font-weight: 600;
      color: var(--primary);
    }

    .bulk-status-select {
      padding: 8px 15px;
      border: 1px solid var(--gray-light);
      border-radius: var(--border-radius);
      font-size: 14px;
    }

    /* New bulk push button */
    .bulk-push-btn {
      background-color: #28a745;
      color: white;
      border: none;
      border-radius: var(--border-radius);
      padding: 8px 15px;
      cursor: pointer;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    /* Pagination */
    .pagination {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 20px;
      padding-top: 20px;
      border-top: 1px solid var(--gray-light);
    }

    .pagination-controls {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .pagination-btn {
      padding: 8px 15px;
      background-color: var(--light);
      border: 1px solid var(--gray-light);
      border-radius: var(--border-radius);
      cursor: pointer;
      transition: var(--transition);
    }

    .pagination-btn:hover:not(:disabled) {
      background-color: var(--primary);
      color: white;
    }

    .pagination-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .page-numbers {
      display: flex;
      gap: 5px;
    }

    .page-number {
      width: 35px;
      height: 35px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: var(--border-radius);
      cursor: pointer;
      transition: var(--transition);
    }

    .page-number.active {
      background-color: var(--primary);
      color: white;
    }

    .page-number:hover:not(.active) {
      background-color: var(--gray-light);
    }

    /* Loading Overlay */
    .loading-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(255, 255, 255, 0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2000;
      transition: var(--transition);
      opacity: 0;
      visibility: hidden;
    }

    .loading-overlay.show {
      opacity: 1;
      visibility: visible;
    }

    .spinner {
      width: 50px;
      height: 50px;
      border: 5px solid var(--gray-light);
      border-top-color: var(--primary);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }

    /* Modal */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 3000;
      transition: var(--transition);
      opacity: 0;
      visibility: hidden;
    }

    .modal-overlay.show {
      opacity: 1;
      visibility: visible;
    }

    .modal {
      background-color: white;
      border-radius: var(--border-radius);
      width: 90%;
      max-width: 500px;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    }

    .modal-header {
      padding: 20px;
      border-bottom: 1px solid var(--gray-light);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .modal-body {
      padding: 20px;
    }

    .modal-footer {
      padding: 20px;
      border-top: 1px solid var(--gray-light);
      display: flex;
      justify-content: flex-end;
      gap: 10px;
    }

    .close-modal {
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: var(--gray);
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
    }

    .form-control {
      width: 100%;
      padding: 10px 15px;
      border: 1px solid var(--gray-light);
      border-radius: var(--border-radius);
      font-size: 14px;
    }

    /* Responsive Design */
    @media (max-width: 992px) {
      .sidebar {
        width: 70px;
        padding: 20px 0;
      }

      .sidebar .logo h2,
      .sidebar .logo p,
      .sidebar .nav-link span {
        display: none;
      }

      .main-content {
        margin-left: 70px;
        width: calc(100% - 70px);
      }

      .filters-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 768px) {
      .stats-container {
        grid-template-columns: repeat(2, 1fr);
      }

      .filters-grid {
        grid-template-columns: 1fr;
      }

      .main-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 15px;
      }

      .header-actions {
        align-self: flex-end;
      }

      .bulk-actions-bar {
        flex-direction: column;
        width: 90%;
        bottom: 10px;
      }

      .action-buttons {
        flex-direction: column;
        align-items: flex-start;
      }

      .push-btn {
        margin-top: 5px;
      }
    }

    @media (max-width: 576px) {
      .stats-container {
        grid-template-columns: 1fr;
      }

      .pagination {
        flex-direction: column;
        gap: 15px;
        align-items: flex-start;
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <!-- Sidebar -->

    <!-- Main Content -->
    <main class="main-content">
      <!-- Header -->
      <header class="main-header">
        <div class="header-left">
          <h1>Order Management</h1>
          <p>View and manage all marketplace orders</p>
        </div>
        <div class="header-right">
          <div class="header-actions">
            <button class="btn btn-primary" id="createOrderBtn">
              <i class="fas fa-plus"></i> Create Order
            </button>
            <div class="notifications">
              <i class="fas fa-bell"></i>
              <span class="notification-count">3</span>
            </div>
          </div>
        </div>
      </header>

      <!-- Stats Cards -->
      <div class="stats-container">
        <div class="stat-card" onclick="filterOrdersByStatus('all')">
          <div class="stat-icon" style="background-color: var(--primary)">
            <i class="fas fa-shopping-cart"></i>
          </div>
          <div class="stat-info">
            <h3 id="totalOrders">0</h3>
            <p>Total Orders</p>
            <div class="stat-trend trend-up">
              <i class="fas fa-arrow-up"></i> 12% from last month
            </div>
          </div>
        </div>
        <div class="stat-card" onclick="filterOrdersByStatus('pending')">
          <div class="stat-icon" style="background-color: #ffc107">
            <i class="fas fa-clock"></i>
          </div>
          <div class="stat-info">
            <h3 id="pendingOrders">0</h3>
            <p>Pending</p>
            <div class="stat-trend trend-up">
              <i class="fas fa-arrow-up"></i> 5 new today
            </div>
          </div>
        </div>
        <div class="stat-card" onclick="filterOrdersByStatus('processing')">
          <div class="stat-icon" style="background-color: #007bff">
            <i class="fas fa-cogs"></i>
          </div>
          <div class="stat-info">
            <h3 id="processingOrders">0</h3>
            <p>Processing</p>
            <div class="stat-trend trend-up">
              <i class="fas fa-arrow-up"></i> 8% from yesterday
            </div>
          </div>
        </div>
        <div class="stat-card" onclick="filterOrdersByStatus('delivered')">
          <div class="stat-icon" style="background-color: var(--success)">
            <i class="fas fa-check-circle"></i>
          </div>
          <div class="stat-info">
            <h3 id="deliveredOrders">0</h3>
            <p>Delivered</p>
            <div class="stat-trend trend-up">
              <i class="fas fa-arrow-up"></i> 15% from last week
            </div>
          </div>
        </div>
      </div>

      <!-- Filters Section -->
      <div class="filters-section">
        <div class="section-header">
          <h2>All Orders</h2>
          <div class="action-buttons">
            <button class="btn btn-success" id="exportOrdersBtn">
              <i class="fas fa-file-export"></i> Export
            </button>
            <button class="btn btn-light" id="refreshOrdersBtn">
              <i class="fas fa-sync-alt"></i> Refresh
            </button>
            <button class="btn btn-push" id="bulkPushBtn">
              <i class="fas fa-paper-plane"></i> Push Selected to Vendor
            </button>
          </div>
        </div>

        <div class="filters-grid">
          <div class="filter-group">
            <label>Order Status</label>
            <select class="filter-select" id="statusFilter">
              <option value="all">All Status</option>
              <option value="pending">Pending</option>
              <option value="processing">Processing</option>
              <option value="shipped">Shipped</option>
              <option value="delivered">Delivered</option>
              <option value="cancelled">Cancelled</option>
              <option value="refunded">Refunded</option>
              <option value="pushed">Pushed to Vendor</option>
            </select>
          </div>
          <div class="filter-group">
            <label>Vendor</label>
            <select class="filter-select" id="vendorFilter">
              <option value="all">All Vendors</option>
              <option value="TechGadgets Inc.">TechGadgets Inc.</option>
              <option value="HomeStyle Living">HomeStyle Living</option>
              <option value="FashionHub">FashionHub</option>
              <option value="ElectroWorld">ElectroWorld</option>
              <option value="BookNook">BookNook</option>
            </select>
          </div>
          <div class="filter-group">
            <label>Date Range</label>
            <select class="filter-select" id="dateRangeFilter">
              <option value="all">All Time</option>
              <option value="today">Today</option>
              <option value="week">This Week</option>
              <option value="month">This Month</option>
              <option value="quarter">This Quarter</option>
            </select>
          </div>
          <div class="filter-group">
            <label>Shipping Status</label>
            <select class="filter-select" id="shippingFilter">
              <option value="all">All Shipping</option>
              <option value="pending">Pending</option>
              <option value="processing">Processing</option>
              <option value="shipped">Shipped</option>
              <option value="delivered">Delivered</option>
            </select>
          </div>
          <div class="filter-group search-group">
            <label>Search</label>
            <div class="search-input-wrapper">
              <i class="fas fa-search"></i>
              <input type="text" id="searchInput" placeholder="Search by Order ID, Customer, Product..."
                class="search-input" />
            </div>
          </div>
          <div class="filter-group">
            <button class="btn btn-light" id="clearFilters">
              <i class="fas fa-times"></i> Clear Filters
            </button>
          </div>
        </div>
      </div>

      <!-- Bulk Actions Bar -->
      <div class="bulk-actions-bar" id="bulkActionsBar">
        <div class="bulk-selection-info" id="bulkSelectionInfo">
          0 orders selected
        </div>
        <select class="bulk-status-select" id="bulkStatusSelect">
          <option value="">Update Status To...</option>
          <option value="pending">Pending</option>
          <option value="processing">Processing</option>
          <option value="shipped">Shipped</option>
          <option value="delivered">Delivered</option>
          <option value="cancelled">Cancelled</option>
          <option value="refunded">Refunded</option>
          <option value="pushed">Pushed to Vendor</option>
        </select>
        <button class="btn btn-primary" id="applyBulkUpdate">
          <i class="fas fa-check"></i> Apply Status
        </button>
        <button class="bulk-push-btn" id="applyBulkPush">
          <i class="fas fa-paper-plane"></i> Push to Vendor
        </button>
        <button class="btn btn-light" id="clearBulkSelection">
          <i class="fas fa-times"></i> Clear Selection
        </button>
      </div>

      <!-- Orders Table -->
      <div class="table-container">
        <div class="table-responsive">
          <table class="orders-table" id="ordersTable">
            <thead>
              <tr>
                <th width="50">
                  <input type="checkbox" id="selectAllCheckbox" class="bulk-checkbox" />
                </th>
                <th>Order ID</th>
                <th>Customer</th>
                <th>Date</th>
                <th>Vendor</th>
                <th>Status</th>
                <th>Shipping</th>
                <th>Items</th>
                <th>Total</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="ordersTableBody">
              <!-- Orders will be loaded here -->
            </tbody>
          </table>
        </div>

        <!-- Pagination -->
        <div class="pagination">
          <div class="pagination-info" id="paginationInfo">
            Showing 0-0 of 0 orders
          </div>
          <div class="pagination-controls">
            <button class="pagination-btn" id="prevPage" disabled>
              <i class="fas fa-chevron-left"></i> Previous
            </button>
            <div class="page-numbers" id="pageNumbers"></div>
            <button class="pagination-btn" id="nextPage">
              Next <i class="fas fa-chevron-right"></i>
            </button>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Loading Overlay -->
  <div class="loading-overlay" id="loadingOverlay">
    <div class="spinner"></div>
  </div>

  <!-- Modal for Create/Edit Order -->
  <div class="modal-overlay" id="orderModal">
    <div class="modal">
      <div class="modal-header">
        <h3 id="modalTitle">Create New Order</h3>
        <button class="close-modal" id="closeModal">&times;</button>
      </div>
      <div class="modal-body">
        <form id="orderForm">
          <div class="form-group">
            <label for="orderCustomer">Customer Name</label>
            <input type="text" id="orderCustomer" class="form-control" required />
          </div>
          <div class="form-group">
            <label for="orderVendor">Vendor</label>
            <select id="orderVendor" class="form-control" required>
              <option value="">Select Vendor</option>
              <option value="TechGadgets Inc.">TechGadgets Inc.</option>
              <option value="HomeStyle Living">HomeStyle Living</option>
              <option value="FashionHub">FashionHub</option>
              <option value="ElectroWorld">ElectroWorld</option>
              <option value="BookNook">BookNook</option>
            </select>
          </div>
          <div class="form-group">
            <label for="orderStatus">Status</label>
            <select id="orderStatus" class="form-control" required>
              <option value="pending">Pending</option>
              <option value="processing">Processing</option>
              <option value="shipped">Shipped</option>
              <option value="delivered">Delivered</option>
              <option value="cancelled">Cancelled</option>
              <option value="refunded">Refunded</option>
              <option value="pushed">Pushed to Vendor</option>
            </select>
          </div>
          <div class="form-group">
            <label for="orderShipping">Shipping Status</label>
            <select id="orderShipping" class="form-control" required>
              <option value="pending">Pending</option>
              <option value="processing">Processing</option>
              <option value="shipped">Shipped</option>
              <option value="delivered">Delivered</option>
            </select>
          </div>
          <div class="form-group">
            <label for="orderItems">Items (comma separated)</label>
            <input type="text" id="orderItems" class="form-control" placeholder="e.g., Laptop, Mouse, Charger"
              required />
          </div>
          <div class="form-group">
            <label for="orderTotal">Total Amount ($)</label>
            <input type="number" id="orderTotal" class="form-control" min="0" step="0.01" required />
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-light" id="cancelOrderBtn">Cancel</button>
        <button class="btn btn-primary" id="saveOrderBtn">Save Order</button>
      </div>
    </div>
  </div>

  <script>
    // Sample order data - Added "pushed" field
    const sampleOrders = [
      {
        id: "ORD-1001",
        customer: "John Smith",
        date: "2023-10-15",
        vendor: "TechGadgets Inc.",
        status: "pending",
        shipping: "pending",
        items: "Laptop, Mouse",
        total: 1250.99,
        pushed: false,
      },
      {
        id: "ORD-1002",
        customer: "Sarah Johnson",
        date: "2023-10-16",
        vendor: "HomeStyle Living",
        status: "processing",
        shipping: "processing",
        items: "Coffee Table, Lamp",
        total: 345.5,
        pushed: false,
      },
      {
        id: "ORD-1003",
        customer: "Mike Williams",
        date: "2023-10-17",
        vendor: "FashionHub",
        status: "shipped",
        shipping: "shipped",
        items: "Jacket, Jeans",
        total: 189.99,
        pushed: true,
      },
      {
        id: "ORD-1004",
        customer: "Emily Davis",
        date: "2023-10-18",
        vendor: "ElectroWorld",
        status: "delivered",
        shipping: "delivered",
        items: "Smartphone, Case",
        total: 899.99,
        pushed: false,
      },
      {
        id: "ORD-1005",
        customer: "David Brown",
        date: "2023-10-19",
        vendor: "BookNook",
        status: "cancelled",
        shipping: "pending",
        items: "Novels, Guidebook",
        total: 75.25,
        pushed: false,
      },
      {
        id: "ORD-1006",
        customer: "Lisa Anderson",
        date: "2023-10-20",
        vendor: "TechGadgets Inc.",
        status: "refunded",
        shipping: "delivered",
        items: "Tablet, Stylus",
        total: 650.0,
        pushed: true,
      },
      {
        id: "ORD-1007",
        customer: "Robert Wilson",
        date: "2023-10-21",
        vendor: "HomeStyle Living",
        status: "pending",
        shipping: "pending",
        items: "Sofa, Cushions",
        total: 1200.0,
        pushed: false,
      },
      {
        id: "ORD-1008",
        customer: "Jennifer Taylor",
        date: "2023-10-22",
        vendor: "FashionHub",
        status: "processing",
        shipping: "processing",
        items: "Dress, Shoes",
        total: 245.75,
        pushed: false,
      },
      {
        id: "ORD-1009",
        customer: "Thomas Moore",
        date: "2023-10-23",
        vendor: "ElectroWorld",
        status: "shipped",
        shipping: "shipped",
        items: "Headphones, Adapter",
        total: 199.99,
        pushed: false,
      },
      {
        id: "ORD-1010",
        customer: "Amanda Clark",
        date: "2023-10-24",
        vendor: "BookNook",
        status: "delivered",
        shipping: "delivered",
        items: "Cookbook, Magazine",
        total: 45.5,
        pushed: true,
      },
    ];

    // Application state
    let orders = [...sampleOrders];
    let filteredOrders = [...orders];
    let selectedOrders = new Set();
    let currentPage = 1;
    const ordersPerPage = 5;
    let editingOrderId = null;

    // DOM elements
    const ordersTableBody = document.getElementById("ordersTableBody");
    const totalOrdersElement = document.getElementById("totalOrders");
    const pendingOrdersElement = document.getElementById("pendingOrders");
    const processingOrdersElement =
      document.getElementById("processingOrders");
    const deliveredOrdersElement = document.getElementById("deliveredOrders");
    const paginationInfo = document.getElementById("paginationInfo");
    const pageNumbers = document.getElementById("pageNumbers");
    const prevPageBtn = document.getElementById("prevPage");
    const nextPageBtn = document.getElementById("nextPage");
    const loadingOverlay = document.getElementById("loadingOverlay");
    const orderModal = document.getElementById("orderModal");
    const bulkActionsBar = document.getElementById("bulkActionsBar");
    const bulkSelectionInfo = document.getElementById("bulkSelectionInfo");
    const bulkStatusSelect = document.getElementById("bulkStatusSelect");
    const selectAllCheckbox = document.getElementById("selectAllCheckbox");
    const bulkPushBtn = document.getElementById("bulkPushBtn");
    const applyBulkPush = document.getElementById("applyBulkPush");

    // Initialize the application
    document.addEventListener("DOMContentLoaded", function () {
      initializeEventListeners();
      updateStats();
      renderOrders();
      updatePagination();
    });

    // Set up all event listeners
    function initializeEventListeners() {
      // Filter event listeners
      document
        .getElementById("statusFilter")
        .addEventListener("change", filterOrders);
      document
        .getElementById("vendorFilter")
        .addEventListener("change", filterOrders);
      document
        .getElementById("dateRangeFilter")
        .addEventListener("change", filterOrders);
      document
        .getElementById("shippingFilter")
        .addEventListener("change", filterOrders);
      document
        .getElementById("searchInput")
        .addEventListener("input", filterOrders);
      document
        .getElementById("clearFilters")
        .addEventListener("click", clearFilters);

      // Pagination event listeners
      prevPageBtn.addEventListener("click", goToPrevPage);
      nextPageBtn.addEventListener("click", goToNextPage);

      // Action button event listeners
      document
        .getElementById("createOrderBtn")
        .addEventListener("click", openCreateOrderModal);
      document
        .getElementById("refreshOrdersBtn")
        .addEventListener("click", refreshOrders);
      document
        .getElementById("exportOrdersBtn")
        .addEventListener("click", exportOrders);
      bulkPushBtn.addEventListener("click", bulkPushToVendor);

      // Modal event listeners
      document
        .getElementById("closeModal")
        .addEventListener("click", closeModal);
      document
        .getElementById("cancelOrderBtn")
        .addEventListener("click", closeModal);
      document
        .getElementById("saveOrderBtn")
        .addEventListener("click", saveOrder);

      // Bulk actions event listeners
      document
        .getElementById("applyBulkUpdate")
        .addEventListener("click", applyBulkUpdate);
      document
        .getElementById("applyBulkPush")
        .addEventListener("click", bulkPushSelectedOrders);
      document
        .getElementById("clearBulkSelection")
        .addEventListener("click", clearBulkSelection);
      selectAllCheckbox.addEventListener("change", toggleSelectAll);

      // Click outside modal to close
      orderModal.addEventListener("click", function (e) {
        if (e.target === orderModal) closeModal();
      });
    }

    // Update statistics
    function updateStats() {
      const total = orders.length;
      const pending = orders.filter(
        (order) => order.status === "pending"
      ).length;
      const processing = orders.filter(
        (order) => order.status === "processing"
      ).length;
      const delivered = orders.filter(
        (order) => order.status === "delivered"
      ).length;

      totalOrdersElement.textContent = total;
      pendingOrdersElement.textContent = pending;
      processingOrdersElement.textContent = processing;
      deliveredOrdersElement.textContent = delivered;
    }

    // Render orders to the table
    function renderOrders() {
      // Calculate pagination
      const startIndex = (currentPage - 1) * ordersPerPage;
      const endIndex = startIndex + ordersPerPage;
      const pageOrders = filteredOrders.slice(startIndex, endIndex);

      // Clear table body
      ordersTableBody.innerHTML = "";

      // Populate table with orders
      pageOrders.forEach((order) => {
        const row = document.createElement("tr");
        row.dataset.id = order.id;

        // Determine status badge class
        const statusClass = `status-${order.status}`;
        const shippingClass = `status-${order.shipping}`;

        // Determine if order is already pushed
        const isPushed = order.pushed;
        const pushButtonText = isPushed ? "Pushed" : "Push to Vendor";
        const pushButtonClass = isPushed ? "btn-pushed" : "btn-push";
        const pushButtonDisabled = isPushed ? "disabled" : "";

        // Create checkbox for bulk selection
        const isSelected = selectedOrders.has(order.id);

        row.innerHTML = `
                    <td>
                        <input type="checkbox" class="bulk-checkbox order-checkbox" data-id="${order.id
          }" ${isSelected ? "checked" : ""}>
                    </td>
                    <td><strong>${order.id}</strong></td>
                    <td>${order.customer}</td>
                    <td>${formatDate(order.date)}</td>
                    <td>${order.vendor}</td>
                    <td><span class="status-badge ${statusClass}">${capitalizeFirstLetter(
            order.status
          )}</span></td>
                    <td><span class="status-badge ${shippingClass}">${capitalizeFirstLetter(
            order.shipping
          )}</span></td>
                    <td>${order.items}</td>
                    <td><strong>$${order.total.toFixed(2)}</strong></td>
                    <td>
                        <div class="action-buttons">
                            <button class="action-btn view" onclick="viewOrder('${order.id
          }')" title="View">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="action-btn edit" onclick="editOrder('${order.id
          }')" title="Edit">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="action-btn delete" onclick="deleteOrder('${order.id
          }')" title="Delete">
                                <i class="fas fa-trash"></i>
                            </button>
                            <button class="push-btn ${pushButtonClass}" onclick="pushToVendor('${order.id
          }')" ${pushButtonDisabled} title="${isPushed ? "Already pushed to vendor" : "Push this order to vendor"
          }">
                                <i class="fas fa-paper-plane"></i> ${pushButtonText}
                            </button>
                        </div>
                    </td>
                `;

        ordersTableBody.appendChild(row);
      });

      // Add event listeners to checkboxes
      document.querySelectorAll(".order-checkbox").forEach((checkbox) => {
        checkbox.addEventListener("change", function () {
          const orderId = this.dataset.id;
          if (this.checked) {
            selectedOrders.add(orderId);
          } else {
            selectedOrders.delete(orderId);
            selectAllCheckbox.checked = false;
          }
          updateBulkActionsBar();
        });
      });

      // Update select all checkbox state
      updateSelectAllCheckbox();
    }

    // Format date for display
    function formatDate(dateString) {
      const options = { year: "numeric", month: "short", day: "numeric" };
      return new Date(dateString).toLocaleDateString("en-US", options);
    }

    // Capitalize first letter
    function capitalizeFirstLetter(string) {
      return string.charAt(0).toUpperCase() + string.slice(1);
    }

    // Update pagination controls
    function updatePagination() {
      const totalPages = Math.ceil(filteredOrders.length / ordersPerPage);
      const startOrder = (currentPage - 1) * ordersPerPage + 1;
      const endOrder = Math.min(
        currentPage * ordersPerPage,
        filteredOrders.length
      );

      // Update pagination info
      paginationInfo.textContent = `Showing ${startOrder}-${endOrder} of ${filteredOrders.length} orders`;

      // Update pagination buttons
      prevPageBtn.disabled = currentPage === 1;
      nextPageBtn.disabled = currentPage === totalPages || totalPages === 0;

      // Update page numbers
      pageNumbers.innerHTML = "";

      // Show up to 5 page numbers
      let startPage = Math.max(1, currentPage - 2);
      let endPage = Math.min(totalPages, startPage + 4);

      // Adjust if we're near the end
      if (endPage - startPage < 4 && startPage > 1) {
        startPage = Math.max(1, endPage - 4);
      }

      for (let i = startPage; i <= endPage; i++) {
        const pageBtn = document.createElement("div");
        pageBtn.className = `page-number ${i === currentPage ? "active" : ""
          }`;
        pageBtn.textContent = i;
        pageBtn.addEventListener("click", () => goToPage(i));
        pageNumbers.appendChild(pageBtn);
      }
    }

    // Go to specific page
    function goToPage(page) {
      currentPage = page;
      renderOrders();
      updatePagination();
    }

    // Go to previous page
    function goToPrevPage() {
      if (currentPage > 1) {
        currentPage--;
        renderOrders();
        updatePagination();
      }
    }

    // Go to next page
    function goToNextPage() {
      const totalPages = Math.ceil(filteredOrders.length / ordersPerPage);
      if (currentPage < totalPages) {
        currentPage++;
        renderOrders();
        updatePagination();
      }
    }

    // Filter orders based on selected filters
    function filterOrders() {
      const statusFilter = document.getElementById("statusFilter").value;
      const vendorFilter = document.getElementById("vendorFilter").value;
      const dateRangeFilter =
        document.getElementById("dateRangeFilter").value;
      const shippingFilter = document.getElementById("shippingFilter").value;
      const searchQuery = document
        .getElementById("searchInput")
        .value.toLowerCase();

      filteredOrders = orders.filter((order) => {
        // Status filter
        if (statusFilter !== "all" && order.status !== statusFilter)
          return false;

        // Vendor filter
        if (vendorFilter !== "all" && order.vendor !== vendorFilter)
          return false;

        // Shipping filter
        if (shippingFilter !== "all" && order.shipping !== shippingFilter)
          return false;

        // Date range filter (simplified implementation)
        if (dateRangeFilter !== "all") {
          const orderDate = new Date(order.date);
          const today = new Date();

          if (dateRangeFilter === "today") {
            if (orderDate.toDateString() !== today.toDateString())
              return false;
          } else if (dateRangeFilter === "week") {
            const weekAgo = new Date();
            weekAgo.setDate(today.getDate() - 7);
            if (orderDate < weekAgo) return false;
          } else if (dateRangeFilter === "month") {
            const monthAgo = new Date();
            monthAgo.setMonth(today.getMonth() - 1);
            if (orderDate < monthAgo) return false;
          } else if (dateRangeFilter === "quarter") {
            const quarterAgo = new Date();
            quarterAgo.setMonth(today.getMonth() - 3);
            if (orderDate < quarterAgo) return false;
          }
        }

        // Search filter
        if (searchQuery) {
          const searchableText =
            `${order.id} ${order.customer} ${order.vendor} ${order.items}`.toLowerCase();
          if (!searchableText.includes(searchQuery)) return false;
        }

        return true;
      });

      // Reset to first page after filtering
      currentPage = 1;
      renderOrders();
      updatePagination();
    }

    // Filter orders by status (for stat cards)
    function filterOrdersByStatus(status) {
      document.getElementById("statusFilter").value = status;
      filterOrders();
    }

    // Clear all filters
    function clearFilters() {
      document.getElementById("statusFilter").value = "all";
      document.getElementById("vendorFilter").value = "all";
      document.getElementById("dateRangeFilter").value = "all";
      document.getElementById("shippingFilter").value = "all";
      document.getElementById("searchInput").value = "";
      filterOrders();
    }

    // Refresh orders
    function refreshOrders() {
      showLoading();
      // Simulate API call delay
      setTimeout(() => {
        // In a real app, this would fetch new data from server
        hideLoading();
        filterOrders();
        updateStats();
        showNotification("Orders refreshed successfully!", "success");
      }, 1000);
    }

    // Export orders
    function exportOrders() {
      showLoading();
      // Simulate export process
      setTimeout(() => {
        hideLoading();
        showNotification(
          `Exported ${filteredOrders.length} orders to CSV`,
          "success"
        );
      }, 1500);
    }

    // Open modal to create new order
    function openCreateOrderModal() {
      document.getElementById("modalTitle").textContent = "Create New Order";
      document.getElementById("orderForm").reset();
      editingOrderId = null;
      orderModal.classList.add("show");
    }

    // Open modal to edit existing order
    function editOrder(orderId) {
      const order = orders.find((o) => o.id === orderId);
      if (!order) return;

      document.getElementById(
        "modalTitle"
      ).textContent = `Edit Order ${orderId}`;
      document.getElementById("orderCustomer").value = order.customer;
      document.getElementById("orderVendor").value = order.vendor;
      document.getElementById("orderStatus").value = order.status;
      document.getElementById("orderShipping").value = order.shipping;
      document.getElementById("orderItems").value = order.items;
      document.getElementById("orderTotal").value = order.total;

      editingOrderId = orderId;
      orderModal.classList.add("show");
    }

    // View order details
    function viewOrder(orderId) {
      const order = orders.find((o) => o.id === orderId);
      if (!order) return;

      alert(
        `Order Details:\n\nID: ${order.id}\nCustomer: ${order.customer
        }\nDate: ${order.date}\nVendor: ${order.vendor}\nStatus: ${order.status
        }\nShipping: ${order.shipping}\nItems: ${order.items
        }\nTotal: $${order.total.toFixed(2)}\nPushed to Vendor: ${order.pushed ? "Yes" : "No"
        }`
      );
    }

    // Delete order
    function deleteOrder(orderId) {
      if (confirm("Are you sure you want to delete this order?")) {
        orders = orders.filter((order) => order.id !== orderId);
        selectedOrders.delete(orderId);
        filterOrders();
        updateStats();
        updateBulkActionsBar();
        showNotification("Order deleted successfully!", "success");
      }
    }

    // Close modal
    function closeModal() {
      orderModal.classList.remove("show");
    }

    // Save order (create or update)
    function saveOrder() {
      const customer = document.getElementById("orderCustomer").value;
      const vendor = document.getElementById("orderVendor").value;
      const status = document.getElementById("orderStatus").value;
      const shipping = document.getElementById("orderShipping").value;
      const items = document.getElementById("orderItems").value;
      const total = parseFloat(document.getElementById("orderTotal").value);

      if (!customer || !vendor || !items || !total) {
        showNotification("Please fill all required fields", "error");
        return;
      }

      if (editingOrderId) {
        // Update existing order
        const orderIndex = orders.findIndex(
          (order) => order.id === editingOrderId
        );
        if (orderIndex !== -1) {
          orders[orderIndex] = {
            ...orders[orderIndex],
            customer,
            vendor,
            status,
            shipping,
            items,
            total,
          };
        }
        showNotification("Order updated successfully!", "success");
      } else {
        // Create new order
        const newOrderId = `ORD-${1000 + orders.length + 1}`;
        const newOrder = {
          id: newOrderId,
          customer,
          date: new Date().toISOString().split("T")[0],
          vendor,
          status,
          shipping,
          items,
          total,
          pushed: false, // New orders are not pushed by default
        };
        orders.unshift(newOrder);
        showNotification("Order created successfully!", "success");
      }

      closeModal();
      filterOrders();
      updateStats();
    }

    // Push single order to vendor
    function pushToVendor(orderId) {
      const order = orders.find((o) => o.id === orderId);
      if (!order) return;

      if (order.pushed) {
        showNotification("Order already pushed to vendor", "warning");
        return;
      }

      if (confirm(`Push order ${orderId} to ${order.vendor}?`)) {
        // Update order status
        order.pushed = true;
        order.status = "pushed";

        // Update UI
        filterOrders();
        updateStats();
        showNotification(
          `Order ${orderId} pushed to ${order.vendor} successfully!`,
          "success"
        );

        // In a real application, you would make an API call here
        // to send the order data to the vendor's system
        console.log(`Pushing order ${orderId} to vendor:`, order);

        // Simulate API call
        simulatePushToVendorAPI(orderId, order.vendor);
      }
    }

    // Bulk push selected orders to vendor
    function bulkPushToVendor() {
      if (selectedOrders.size === 0) {
        showNotification("Please select orders to push", "warning");
        return;
      }

      // Filter out already pushed orders
      const ordersToPush = Array.from(selectedOrders).filter((orderId) => {
        const order = orders.find((o) => o.id === orderId);
        return order && !order.pushed;
      });

      if (ordersToPush.length === 0) {
        showNotification(
          "Selected orders are already pushed to vendor",
          "warning"
        );
        return;
      }

      if (
        confirm(
          `Push ${ordersToPush.length} selected order(s) to their respective vendors?`
        )
      ) {
        showLoading();

        // Simulate API call delay
        setTimeout(() => {
          // Update each order
          ordersToPush.forEach((orderId) => {
            const order = orders.find((o) => o.id === orderId);
            if (order) {
              order.pushed = true;
              order.status = "pushed";
              console.log(`Pushing order ${orderId} to ${order.vendor}`);
            }
          });

          hideLoading();

          // Clear selection and refresh
          clearBulkSelection();
          filterOrders();
          updateStats();

          showNotification(
            `${ordersToPush.length} order(s) pushed to vendors successfully!`,
            "success"
          );
        }, 1500);
      }
    }

    // Bulk push from bulk actions bar
    function bulkPushSelectedOrders() {
      if (selectedOrders.size === 0) {
        showNotification("No orders selected", "warning");
        return;
      }

      bulkPushToVendor();
    }

    // Simulate API call to push order to vendor
    function simulatePushToVendorAPI(orderId, vendor) {
      showLoading();

      // Simulate API call delay
      setTimeout(() => {
        hideLoading();
        console.log(
          `API Call: Order ${orderId} successfully sent to ${vendor}'s system`
        );

        // In a real app, you would handle the API response here
        // and update the UI accordingly
      }, 1000);
    }

    // Bulk Actions Functions
    function updateBulkActionsBar() {
      const selectedCount = selectedOrders.size;
      bulkSelectionInfo.textContent = `${selectedCount} order${selectedCount !== 1 ? "s" : ""
        } selected`;

      if (selectedCount > 0) {
        bulkActionsBar.classList.add("show");
      } else {
        bulkActionsBar.classList.remove("show");
      }
    }

    function toggleSelectAll() {
      const checkboxes = document.querySelectorAll(".order-checkbox");
      const isChecked = selectAllCheckbox.checked;

      checkboxes.forEach((checkbox) => {
        checkbox.checked = isChecked;
        const orderId = checkbox.dataset.id;

        if (isChecked) {
          selectedOrders.add(orderId);
        } else {
          selectedOrders.delete(orderId);
        }
      });

      updateBulkActionsBar();
    }

    function updateSelectAllCheckbox() {
      const checkboxes = document.querySelectorAll(".order-checkbox");
      const allChecked =
        checkboxes.length > 0 &&
        Array.from(checkboxes).every((cb) => cb.checked);
      selectAllCheckbox.checked = allChecked;
    }

    function clearBulkSelection() {
      selectedOrders.clear();
      selectAllCheckbox.checked = false;
      renderOrders();
      updateBulkActionsBar();
    }

    // Apply bulk status update
    function applyBulkUpdate() {
      const newStatus = bulkStatusSelect.value;
      if (!newStatus) {
        showNotification("Please select a status to update", "warning");
        return;
      }

      if (selectedOrders.size === 0) {
        showNotification("No orders selected", "warning");
        return;
      }

      if (
        confirm(`Update ${selectedOrders.size} order(s) to "${newStatus}"?`)
      ) {
        // Update orders in the data
        orders = orders.map((order) => {
          if (selectedOrders.has(order.id)) {
            return { ...order, status: newStatus };
          }
          return order;
        });

        // Clear selection and refresh
        clearBulkSelection();
        filterOrders();
        updateStats();
        showNotification(
          `Updated ${selectedOrders.size} order(s) successfully!`,
          "success"
        );

        // Reset status select
        bulkStatusSelect.value = "";
      }
    }

    // Show/hide loading overlay
    function showLoading() {
      loadingOverlay.classList.add("show");
    }

    function hideLoading() {
      loadingOverlay.classList.remove("show");
    }

    // Show notification
    function showNotification(message, type = "info") {
      // Create notification element
      const notification = document.createElement("div");
      notification.className = `notification notification-${type}`;
      notification.innerHTML = `
                <i class="fas fa-${type === "success"
          ? "check-circle"
          : type === "error"
            ? "exclamation-circle"
            : "info-circle"
        }"></i>
                <span>${message}</span>
            `;

      // Style the notification
      notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background-color: ${type === "success"
          ? "#d4edda"
          : type === "error"
            ? "#f8d7da"
            : "#d1ecf1"
        };
                color: ${type === "success"
          ? "#155724"
          : type === "error"
            ? "#721c24"
            : "#0c5460"
        };
                padding: 15px 20px;
                border-radius: var(--border-radius);
                box-shadow: var(--box-shadow);
                display: flex;
                align-items: center;
                gap: 10px;
                z-index: 4000;
                animation: slideIn 0.3s ease;
            `;

      // Add to document
      document.body.appendChild(notification);

      // Remove after 3 seconds
      setTimeout(() => {
        notification.style.animation = "slideOut 0.3s ease";
        setTimeout(() => {
          if (notification.parentNode) {
            document.body.removeChild(notification);
          }
        }, 300);
      }, 3000);
    }

    // Add CSS for notification animation
    const style = document.createElement("style");
    style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
    document.head.appendChild(style);
  </script>
</body>

</html>