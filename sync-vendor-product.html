<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Product Sync - Vendor Management</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <style>
    :root {
      --primary: #4361ee;
      --secondary: #3f37c9;
      --success: #4cc9f0;
      --warning: #f72585;
      --danger: #f72585;
      --light: #f8f9fa;
      --dark: #212529;
      --gray: #6c757d;
      --light-gray: #e9ecef;
      --border-radius: 10px;
      --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      --transition: all 0.3s ease;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      background-color: #f5f7fb;
      color: var(--dark);
      line-height: 1.6;
      padding: 20px;
    }

    .container {
      width: 100%;
      margin: 0 auto;
      padding: 20px;
    }

    /* Page Header */
    .page-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
      background-color: white;
      padding: 20px 30px;
      border-radius: var(--border-radius);
      box-shadow: var(--box-shadow);
    }

    .page-title {
      font-size: 28px;
      font-weight: 700;
      color: var(--dark);
    }

    .back-btn {
      background-color: var(--light);
      color: var(--dark);
      border: none;
      padding: 12px 24px;
      border-radius: var(--border-radius);
      font-weight: 600;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: var(--transition);
      text-decoration: none;
    }

    .back-btn:hover {
      background-color: var(--light-gray);
      transform: translateY(-2px);
    }

    /* Vendor Info Card */
    .vendor-info-card {
      background-color: white;
      padding: 25px;
      border-radius: var(--border-radius);
      box-shadow: var(--box-shadow);
      margin-bottom: 30px;
      display: flex;
      align-items: center;
      gap: 20px;
      flex-wrap: wrap;
    }

    .vendor-avatar {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background-color: #4361ee;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 32px;
      font-weight: 700;
    }

    .vendor-details h3 {
      font-size: 24px;
      margin-bottom: 5px;
      color: var(--dark);
    }

    .vendor-details p {
      color: var(--gray);
      margin-bottom: 8px;
    }

    .vendor-stats {
      display: flex;
      gap: 20px;
      margin-top: 10px;
    }

    .stat-item {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .stat-value {
      font-size: 20px;
      font-weight: 700;
      color: var(--primary);
    }

    .stat-label {
      font-size: 14px;
      color: var(--gray);
    }

    /* Sync Settings Container */
    .sync-settings-container {
      display: flex;
      flex-direction: column;
      gap: 30px;
    }

    /* Sync Section */
    .sync-section {
      background-color: white;
      border-radius: var(--border-radius);
      padding: 30px;
      box-shadow: var(--box-shadow);
    }

    .sync-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 25px;
      padding-bottom: 20px;
      border-bottom: 1px solid var(--light-gray);
    }

    .sync-title {
      font-size: 22px;
      font-weight: 600;
      color: var(--dark);
    }

    .sync-status {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .sync-status-indicator {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background-color: var(--success);
    }

    .sync-status-indicator.error {
      background-color: var(--danger);
    }

    .sync-status-indicator.warning {
      background-color: var(--warning);
    }

    .sync-status-text {
      font-size: 14px;
      color: var(--gray);
    }

    /* Sync Options Grid */
    .sync-options {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 25px;
      margin-bottom: 25px;
    }

    .sync-option {
      background-color: var(--light);
      border-radius: var(--border-radius);
      padding: 25px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }

    .sync-option-title {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 20px;
      color: var(--dark);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .sync-controls {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    /* Sync Toggle */
    .sync-toggle {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 0;
      border-bottom: 1px solid rgba(0, 0, 0, 0.05);
    }

    .sync-toggle:last-child {
      border-bottom: none;
    }

    .toggle-label {
      font-weight: 500;
      color: var(--dark);
      font-size: 15px;
    }

    .toggle-switch {
      position: relative;
      width: 50px;
      height: 26px;
    }

    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .toggle-slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ccc;
      transition: var(--transition);
      border-radius: 34px;
    }

    .toggle-slider:before {
      position: absolute;
      content: "";
      height: 18px;
      width: 18px;
      left: 4px;
      bottom: 4px;
      background-color: white;
      transition: var(--transition);
      border-radius: 50%;
    }

    input:checked+.toggle-slider {
      background-color: var(--primary);
    }

    input:checked+.toggle-slider:before {
      transform: translateX(24px);
    }

    /* Sync Frequency */
    .sync-frequency {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .frequency-label {
      font-weight: 500;
      color: var(--dark);
      font-size: 15px;
    }

    .frequency-options {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .frequency-option {
      padding: 10px 18px;
      border: 1px solid var(--light-gray);
      border-radius: var(--border-radius);
      cursor: pointer;
      transition: var(--transition);
      font-size: 14px;
      background-color: white;
    }

    .frequency-option:hover {
      border-color: var(--primary);
      background-color: rgba(67, 97, 238, 0.1);
    }

    .frequency-option.active {
      background-color: var(--primary);
      color: white;
      border-color: var(--primary);
    }

    /* Sync Info Box */
    .sync-info {
      background-color: var(--light);
      border-radius: var(--border-radius);
      padding: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
      margin-top: 20px;
      flex-wrap: wrap;
      gap: 15px;
    }

    .last-sync {
      font-size: 15px;
      color: var(--gray);
    }

    .last-sync-time {
      font-weight: 600;
      color: var(--dark);
    }

    .sync-stats {
      display: flex;
      gap: 20px;
    }

    .stat-box {
      background-color: white;
      padding: 10px 20px;
      border-radius: var(--border-radius);
      text-align: center;
      min-width: 120px;
    }

    .stat-box-value {
      font-size: 20px;
      font-weight: 700;
      color: var(--primary);
    }

    .stat-box-label {
      font-size: 13px;
      color: var(--gray);
      margin-top: 5px;
    }

    /* Sync Actions */
    .sync-actions {
      display: flex;
      justify-content: flex-end;
      gap: 15px;
      margin-top: 25px;
      flex-wrap: wrap;
    }

    .sync-now-btn {
      background-color: var(--primary);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: var(--border-radius);
      font-weight: 600;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: var(--transition);
    }

    .sync-now-btn:hover {
      background-color: var(--secondary);
      transform: translateY(-2px);
    }

    .save-settings-btn {
      background-color: var(--success);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: var(--border-radius);
      font-weight: 600;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: var(--transition);
    }

    .save-settings-btn:hover {
      background-color: #3aa9d0;
      transform: translateY(-2px);
    }

    /* Sync Error Logs */
    .sync-errors {
      margin-top: 25px;
    }

    .sync-errors-title {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 15px;
      color: var(--danger);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .error-log {
      background-color: #fff5f5;
      border-radius: var(--border-radius);
      padding: 20px;
      max-height: 400px;
      overflow-y: auto;
      font-size: 14px;
      color: #721c24;
      border: 1px solid #f8d7da;
    }

    .error-entry {
      padding: 12px 0;
      border-bottom: 1px solid rgba(220, 53, 69, 0.1);
    }

    .error-entry:last-child {
      border-bottom: none;
    }

    .error-time {
      color: var(--gray);
      font-size: 13px;
      margin-bottom: 5px;
    }

    .error-message {
      font-weight: 500;
    }

    /* Sync Logs Table */
    .sync-logs-container {
      margin-top: 30px;
    }

    .logs-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
    }

    .logs-table th,
    .logs-table td {
      padding: 15px;
      text-align: left;
      border-bottom: 1px solid var(--light-gray);
    }

    .logs-table th {
      font-weight: 600;
      color: var(--gray);
      background-color: #f8f9fa;
    }

    .log-status {
      padding: 5px 12px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
      display: inline-block;
    }

    .log-status.success {
      background-color: rgba(40, 167, 69, 0.1);
      color: #28a745;
    }

    .log-status.error {
      background-color: rgba(220, 53, 69, 0.1);
      color: #dc3545;
    }

    .log-status.pending {
      background-color: rgba(255, 193, 7, 0.1);
      color: #ffc107;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .page-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 15px;
      }

      .vendor-info-card {
        flex-direction: column;
        text-align: center;
      }

      .vendor-stats {
        justify-content: center;
      }

      .sync-options {
        grid-template-columns: 1fr;
      }

      .sync-info {
        flex-direction: column;
        align-items: flex-start;
      }

      .sync-stats {
        width: 100%;
        justify-content: space-between;
      }

      .sync-actions {
        flex-direction: column;
      }

      .sync-actions button {
        width: 100%;
      }

      .logs-table {
        display: block;
        overflow-x: auto;
      }
    }

    @media (max-width: 480px) {
      .container {
        padding: 10px;
      }

      .page-header,
      .vendor-info-card,
      .sync-section {
        padding: 20px;
      }

      .sync-option {
        padding: 20px;
      }

      .frequency-options {
        flex-direction: column;
      }

      .frequency-option {
        width: 100%;
        text-align: center;
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <!-- Page Header -->
    <div class="page-header">
      <h1 class="page-title">Product Sync Settings</h1>
      <a href="vendor-management.html " class="back-btn">
        <i class="fas fa-arrow-left"></i> Back to Vendors
      </a>
    </div>

    <!-- Vendor Info Card -->
    <div class="vendor-info-card" id="vendorInfoCard">
      <!-- Vendor info will be loaded by JavaScript -->
    </div>

    <!-- Product Sync Section -->
    <div class="sync-settings-container">
      <div class="sync-section">
        <div class="sync-header">
          <h3 class="sync-title">Product Sync Settings</h3>
          <div class="sync-status">
            <div class="sync-status-indicator" id="productSyncStatus"></div>
            <span class="sync-status-text" id="productSyncStatusText">Last sync: 5 minutes ago</span>
          </div>
        </div>

        <div class="sync-options">
          <div class="sync-option">
            <h4 class="sync-option-title">Sync Controls</h4>
            <div class="sync-controls">
              <div class="sync-toggle">
                <span class="toggle-label">Inventory Sync</span>
                <label class="toggle-switch">
                  <input type="checkbox" id="inventorySyncToggle" checked />
                  <span class="toggle-slider"></span>
                </label>
              </div>
              <div class="sync-toggle">
                <span class="toggle-label">Price Sync</span>
                <label class="toggle-switch">
                  <input type="checkbox" id="priceSyncToggle" checked />
                  <span class="toggle-slider"></span>
                </label>
              </div>
              <div class="sync-toggle">
                <span class="toggle-label">Image Sync</span>
                <label class="toggle-switch">
                  <input type="checkbox" id="imageSyncToggle" checked />
                  <span class="toggle-slider"></span>
                </label>
              </div>
              <div class="sync-toggle">
                <span class="toggle-label">Description Sync</span>
                <label class="toggle-switch">
                  <input type="checkbox" id="descriptionSyncToggle" checked />
                  <span class="toggle-slider"></span>
                </label>
              </div>
            </div>
          </div>

          <div class="sync-option">
            <h4 class="sync-option-title">Advanced Settings</h4>
            <div class="sync-controls">
              <div class="sync-toggle">
                <span class="toggle-label">Sync Product Variants</span>
                <label class="toggle-switch">
                  <input type="checkbox" id="variantsSyncToggle" checked />
                  <span class="toggle-slider"></span>
                </label>
              </div>
              <div class="sync-toggle">
                <span class="toggle-label">Sync Out-of-Stock Products</span>
                <label class="toggle-switch">
                  <input type="checkbox" id="outOfStockSyncToggle" checked />
                  <span class="toggle-slider"></span>
                </label>
              </div>
              <div class="sync-toggle">
                <span class="toggle-label">Auto-create Categories</span>
                <label class="toggle-switch">
                  <input type="checkbox" id="categoriesSyncToggle" checked />
                  <span class="toggle-slider"></span>
                </label>
              </div>
              <div class="sync-toggle">
                <span class="toggle-label">Sync Product Reviews</span>
                <label class="toggle-switch">
                  <input type="checkbox" id="reviewsSyncToggle" />
                  <span class="toggle-slider"></span>
                </label>
              </div>
            </div>
          </div>
        </div>

        <div class="sync-info">
          <div class="last-sync">
            Last product sync:
            <span class="last-sync-time" id="lastProductSync">Today, 10:30 AM</span>
          </div>
          <div class="sync-stats">
            <div class="stat-box">
              <div class="stat-box-value" id="totalProducts">0</div>
              <div class="stat-box-label">Total Products</div>
            </div>
            <div class="stat-box">
              <div class="stat-box-value" id="syncedProducts">0</div>
              <div class="stat-box-label">Synced</div>
            </div>
            <div class="stat-box">
              <div class="stat-box-value" id="failedProducts">0</div>
              <div class="stat-box-label">Failed</div>
            </div>
            <div class="stat-box">
              <div class="stat-box-value" id="pendingProducts">0</div>
              <div class="stat-box-label">Pending</div>
            </div>
          </div>
        </div>

        <div class="sync-actions">
          <button class="sync-now-btn" id="productSyncNow">
            <i class="fas fa-sync-alt"></i> Sync Products Now
          </button>
          <button class="save-settings-btn" id="saveProductSettings">
            <i class="fas fa-save"></i> Save Settings
          </button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Get vendor ID from URL
    const urlParams = new URLSearchParams(window.location.search);
    const vendorId = urlParams.get("id") || 1; // Default to vendor ID 1

    // Vendor data (same as in main file)
    const vendorsData = [
      {
        id: 1,
        name: "TechGadgets Inc.",
        email: "contact@techgadgets.com",
        platform: "shopify",
        status: "approved",
        country: "us",
        products: 245,
        joinedDate: "2023-05-15",
        lastSync: new Date().toISOString(),
        avatarColor: "#4361ee",
        syncSettings: {
          productSyncMode: "realtime",
          inventorySync: true,
          priceSync: true,
          imageSync: true,
          descriptionSync: true,
          variantsSync: true,
          outOfStockSync: true,
          categoriesSync: true,
          reviewsSync: false,
        },
      },
    ];

    // Initialize page
    document.addEventListener("DOMContentLoaded", function () {
      loadVendorInfo();
      initializeSyncSettings();
      loadErrorLogs();
      loadSyncLogs();
    });

    // Load vendor information
    function loadVendorInfo() {
      const vendor =
        vendorsData.find((v) => v.id == vendorId) || vendorsData[0];
      const vendorInfoCard = document.getElementById("vendorInfoCard");

      vendorInfoCard.innerHTML = `
                <div class="vendor-avatar" style="background-color: ${vendor.avatarColor
        }">
                    ${vendor.name.charAt(0)}
                </div>
                <div class="vendor-details">
                    <h3>${vendor.name}</h3>
                    <p>${vendor.email}</p>
                    <p><strong>Platform:</strong> ${vendor.platform === "shopify"
          ? "Shopify"
          : vendor.platform === "woo"
            ? "WooCommerce"
            : "Wix"
        }</p>
                    <div class="vendor-stats">
                        <div class="stat-item">
                            <div class="stat-value">${vendor.products}</div>
                            <div class="stat-label">Products</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" style="color: #28a745;">${Math.floor(
          vendor.products * 0.95
        )}</div>
                            <div class="stat-label">Active</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" style="color: #ffc107;">${Math.floor(
          vendor.products * 0.03
        )}</div>
                            <div class="stat-label">Pending</div>
                        </div>
                    </div>
                </div>
            `;

      // Update product stats
      document.getElementById("totalProducts").textContent = vendor.products;
      document.getElementById("syncedProducts").textContent = Math.floor(
        vendor.products * 0.95
      );
      document.getElementById("failedProducts").textContent = Math.floor(
        vendor.products * 0.02
      );
      document.getElementById("pendingProducts").textContent = Math.floor(
        vendor.products * 0.03
      );
    }

    // Initialize sync settings
    function initializeSyncSettings() {
      const vendor =
        vendorsData.find((v) => v.id == vendorId) || vendorsData[0];
      const settings = vendor.syncSettings;

      // Set sync mode
      document
        .querySelectorAll("#productSyncMode .frequency-option")
        .forEach((option) => {
          if (option.dataset.value === settings.productSyncMode) {
            option.classList.add("active");
          } else {
            option.classList.remove("active");
          }
        });

      // Set toggle switches
      document.getElementById("inventorySyncToggle").checked =
        settings.inventorySync;
      document.getElementById("priceSyncToggle").checked = settings.priceSync;
      document.getElementById("imageSyncToggle").checked = settings.imageSync;
      document.getElementById("descriptionSyncToggle").checked =
        settings.descriptionSync;
      document.getElementById("variantsSyncToggle").checked =
        settings.variantsSync;
      document.getElementById("outOfStockSyncToggle").checked =
        settings.outOfStockSync;
      document.getElementById("categoriesSyncToggle").checked =
        settings.categoriesSync;
      document.getElementById("reviewsSyncToggle").checked =
        settings.reviewsSync;

      // Update last sync time
      document.getElementById("lastProductSync").textContent = formatTime(
        new Date(vendor.lastSync)
      );

      // Sync mode selection
      document
        .querySelectorAll("#productSyncMode .frequency-option")
        .forEach((option) => {
          option.addEventListener("click", function () {
            document
              .querySelectorAll("#productSyncMode .frequency-option")
              .forEach((opt) => {
                opt.classList.remove("active");
              });
            this.classList.add("active");

            // Update status text
            const mode = this.dataset.value;
            const statusText = document.getElementById(
              "productSyncStatusText"
            );
            const statusIndicator =
              document.getElementById("productSyncStatus");

            if (mode === "realtime") {
              statusText.textContent = "Real-time sync active";
              statusIndicator.style.backgroundColor = "#4cc9f0";
            } else if (mode === "scheduled") {
              statusText.textContent = "Scheduled sync (every 4 hours)";
              statusIndicator.style.backgroundColor = "#ffc107";
            } else {
              statusText.textContent = "Manual sync only";
              statusIndicator.style.backgroundColor = "#6c757d";
            }
          });
        });

      // Sync Now button
      document
        .getElementById("productSyncNow")
        .addEventListener("click", function () {
          const syncBtn = this;
          const originalText = syncBtn.innerHTML;

          // Show syncing state
          syncBtn.innerHTML =
            '<i class="fas fa-spinner fa-spin"></i> Syncing...';
          syncBtn.disabled = true;

          // Update status
          document.getElementById("productSyncStatusText").textContent =
            "Syncing...";
          document.getElementById("productSyncStatus").style.backgroundColor =
            "#ffc107";

          // Simulate sync process
          setTimeout(() => {
            // Update vendor's last sync time
            const vendor =
              vendorsData.find((v) => v.id == vendorId) || vendorsData[0];
            vendor.lastSync = new Date().toISOString();

            // Update UI
            document.getElementById("lastProductSync").textContent =
              "Just now";
            document.getElementById("productSyncStatusText").textContent =
              "Last sync: Just now";
            document.getElementById(
              "productSyncStatus"
            ).style.backgroundColor = "#4cc9f0";

            // Reset button
            syncBtn.innerHTML = originalText;
            syncBtn.disabled = false;

            // Add sync log
            addSyncLog(
              "Product Sync",
              "success",
              `${vendor.products} products`,
              "Products synced successfully"
            );

            // Show success message
            showNotification(
              "Product sync completed successfully!",
              "success"
            );

            // Update stats (simulate some changes)
            updateSyncStats();
          }, 2000);
        });

      // Save Settings button
      document
        .getElementById("saveProductSettings")
        .addEventListener("click", function () {
          const saveBtn = this;
          const originalText = saveBtn.innerHTML;

          // Get current settings
          const activeMode = document.querySelector(
            "#productSyncMode .frequency-option.active"
          );

          // Update vendor settings
          const vendor =
            vendorsData.find((v) => v.id == vendorId) || vendorsData[0];
          vendor.syncSettings.productSyncMode = activeMode
            ? activeMode.dataset.value
            : "realtime";
          vendor.syncSettings.inventorySync = document.getElementById(
            "inventorySyncToggle"
          ).checked;
          vendor.syncSettings.priceSync =
            document.getElementById("priceSyncToggle").checked;
          vendor.syncSettings.imageSync =
            document.getElementById("imageSyncToggle").checked;
          vendor.syncSettings.descriptionSync = document.getElementById(
            "descriptionSyncToggle"
          ).checked;
          vendor.syncSettings.variantsSync =
            document.getElementById("variantsSyncToggle").checked;
          vendor.syncSettings.outOfStockSync = document.getElementById(
            "outOfStockSyncToggle"
          ).checked;
          vendor.syncSettings.categoriesSync = document.getElementById(
            "categoriesSyncToggle"
          ).checked;
          vendor.syncSettings.reviewsSync =
            document.getElementById("reviewsSyncToggle").checked;

          // Show saving state
          saveBtn.innerHTML = '<i class="fas fa-check"></i> Settings Saved';
          saveBtn.style.backgroundColor = "#28a745";

          // Add sync log
          addSyncLog(
            "Settings Update",
            "success",
            "Product sync settings",
            "Settings updated successfully"
          );

          setTimeout(() => {
            saveBtn.innerHTML = originalText;
            saveBtn.style.backgroundColor = "";
          }, 2000);

          showNotification("Sync settings saved successfully!", "success");
        });
    }

    // Load error logs
    function loadErrorLogs() {
      const errorLogContainer = document.getElementById("errorLogContainer");
      const errors = [
        {
          time: new Date(Date.now() - 2 * 60 * 60 * 1000), // 2 hours ago
          message: "Failed to sync product #45678: Connection timeout",
        },
        {
          time: new Date(Date.now() - 5 * 60 * 60 * 1000), // 5 hours ago
          message: "Inventory update failed for SKU: TECH-12345",
        },
        {
          time: new Date(Date.now() - 24 * 60 * 60 * 1000), // 24 hours ago
          message: "Product image sync failed: Invalid image format",
        },
      ];

      errorLogContainer.innerHTML = "";
      errors.forEach((error) => {
        const errorEntry = document.createElement("div");
        errorEntry.className = "error-entry";
        errorEntry.innerHTML = `
                    <div class="error-time">${formatTime(error.time)}</div>
                    <div class="error-message">${error.message}</div>
                `;
        errorLogContainer.appendChild(errorEntry);
      });

      document.getElementById(
        "errorLogCount"
      ).textContent = `${errors.length} errors in last 24 hours`;
    }

    // Load sync logs
    function loadSyncLogs() {
      const syncLogsTable = document.getElementById("syncLogsTable");
      const logs = [
        {
          time: new Date(),
          type: "Product Sync",
          status: "success",
          items: "245 products",
          details: "Updated prices and inventory",
        },
        {
          time: new Date(Date.now() - 2 * 60 * 60 * 1000),
          type: "Product Sync",
          status: "error",
          items: "1 product",
          details: "Connection timeout",
        },
        {
          time: new Date(Date.now() - 6 * 60 * 60 * 1000),
          type: "Product Sync",
          status: "success",
          items: "15 products",
          details: "New products added",
        },
        {
          time: new Date(Date.now() - 12 * 60 * 60 * 1000),
          type: "Settings Update",
          status: "success",
          items: "Sync settings",
          details: "Settings updated",
        },
      ];

      syncLogsTable.innerHTML = "";
      logs.forEach((log) => {
        const row = document.createElement("tr");
        row.innerHTML = `
                    <td>${formatTime(log.time)}</td>
                    <td>${log.type}</td>
                    <td><span class="log-status ${log.status}">${log.status.charAt(0).toUpperCase() + log.status.slice(1)
          }</span></td>
                    <td>${log.items}</td>
                    <td>${log.details}</td>
                `;
        syncLogsTable.appendChild(row);
      });
    }

    // Add sync log
    function addSyncLog(type, status, items, details) {
      const syncLogsTable = document.getElementById("syncLogsTable");
      const now = new Date();

      const row = document.createElement("tr");
      row.innerHTML = `
                <td>${formatTime(now)}</td>
                <td>${type}</td>
                <td><span class="log-status ${status}">${status.charAt(0).toUpperCase() + status.slice(1)
        }</span></td>
                <td>${items}</td>
                <td>${details}</td>
            `;

      // Insert at the top
      if (syncLogsTable.firstChild) {
        syncLogsTable.insertBefore(row, syncLogsTable.firstChild);
      } else {
        syncLogsTable.appendChild(row);
      }

      // Limit to 10 rows
      const rows = syncLogsTable.querySelectorAll("tr");
      if (rows.length > 10) {
        syncLogsTable.removeChild(rows[rows.length - 1]);
      }
    }

    // Update sync stats
    function updateSyncStats() {
      const vendor =
        vendorsData.find((v) => v.id == vendorId) || vendorsData[0];
      const synced = Math.floor(vendor.products * 0.95 + Math.random() * 5);
      const failed = Math.floor(vendor.products * 0.02 + Math.random() * 2);
      const pending = vendor.products - synced - failed;

      document.getElementById("syncedProducts").textContent = synced;
      document.getElementById("failedProducts").textContent = failed;
      document.getElementById("pendingProducts").textContent = pending;
    }

    // Format time
    function formatTime(date) {
      const now = new Date();
      const diffMs = now - date;
      const diffMins = Math.floor(diffMs / 60000);
      const diffHours = Math.floor(diffMs / 3600000);
      const diffDays = Math.floor(diffMs / 86400000);

      if (diffMins < 1) return "Just now";
      if (diffMins < 60)
        return `${diffMins} minute${diffMins > 1 ? "s" : ""} ago`;
      if (diffHours < 24)
        return `${diffHours} hour${diffHours > 1 ? "s" : ""} ago`;

      return date.toLocaleDateString("en-US", {
        month: "short",
        day: "numeric",
        hour: "2-digit",
        minute: "2-digit",
      });
    }

    // Show notification
    function showNotification(message, type = "success") {
      // Create notification element
      const notification = document.createElement("div");
      notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 25px;
                background-color: ${type === "success" ? "#28a745" : "#dc3545"};
                color: white;
                border-radius: var(--border-radius);
                box-shadow: var(--box-shadow);
                z-index: 1000;
                animation: slideIn 0.3s ease;
            `;

      // Add keyframes for animation
      const style = document.createElement("style");
      style.textContent = `
                @keyframes slideIn {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
            `;
      document.head.appendChild(style);

      notification.innerHTML = `
                <i class="fas fa-${type === "success" ? "check-circle" : "exclamation-circle"
        }"></i>
                ${message}
            `;

      document.body.appendChild(notification);

      // Remove after 3 seconds
      setTimeout(() => {
        notification.style.animation = "slideOut 0.3s ease";
        notification.style.transform = "translateX(100%)";
        setTimeout(() => {
          document.body.removeChild(notification);
        }, 300);
      }, 3000);
    }
  </script>
</body>

</html>